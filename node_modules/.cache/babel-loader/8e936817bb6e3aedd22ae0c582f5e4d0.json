{"ast":null,"code":"var _jsxFileName = \"/home/fazal/Documents/reactjs/inbox-pivot/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport * as d3 from 'd3';\n\nfunction App() {\n  var width = 400,\n      height = 500,\n      root;\n  var force = d3.forceSimulation().linkDistance(80).charge(-120).gravity(.05).size([width, height]).on(\"tick\", tick);\n  var svg = d3.select(\"body\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  var link = svg.selectAll(\".link\"),\n      node = svg.selectAll(\".node\");\n  var root = {\n    \"name\": \"root\",\n    \"children\": [{\n      \"name\": \"leaf1\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }, {\n      \"name\": \"leaf2\"\n    }]\n  };\n  update();\n\n  function update() {\n    var nodes = flatten(root),\n        links = d3.tree().links(nodes); // Restart the force layout.\n\n    force.nodes(nodes).links(links).start(); // Update links.\n\n    link = link.data(links, function (d) {\n      return d.target.id;\n    });\n    link.exit().remove();\n    link.enter().insert(\"line\", \".node\").attr(\"class\", \"link\"); // Update nodes.\n\n    node = node.data(nodes, function (d) {\n      return d.id;\n    });\n    node.exit().remove();\n    var nodeEnter = node.enter().append(\"g\").attr(\"class\", \"node\").on(\"click\", click).call(force.drag);\n    nodeEnter.append(\"circle\").attr(\"r\", function (d) {\n      return Math.sqrt(d.size) / 10 || 4.5;\n    });\n    nodeEnter.append(\"text\").attr(\"dy\", \".35em\").text(function (d) {\n      return d.name;\n    });\n    node.select(\"circle\").style(\"fill\", color);\n  }\n\n  function tick() {\n    link.attr(\"x1\", function (d) {\n      return d.source.x;\n    }).attr(\"y1\", function (d) {\n      return d.source.y;\n    }).attr(\"x2\", function (d) {\n      return d.target.x;\n    }).attr(\"y2\", function (d) {\n      return d.target.y;\n    });\n    node.attr(\"transform\", function (d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n  }\n\n  function color(d) {\n    return d._children ? \"#3182bd\" // collapsed package\n    : d.children ? \"#c6dbef\" // expanded package\n    : \"#fd8d3c\"; // leaf node\n  } // Toggle children on click.\n\n\n  function click(d) {\n    flatten(root).forEach(function (d) {\n      d.fixed = false;\n    });\n    console.log(d);\n    d.fixed = true;\n    d.px = d.x = width / 2;\n    d.py = d.y = width / 2;\n    console.log(d);\n    force.resume();\n  } // Returns a list of all nodes under the root.\n\n\n  function flatten(root) {\n    var nodes = [],\n        i = 0;\n\n    function recurse(node) {\n      if (node.children) node.children.forEach(recurse);\n      if (!node.id) node.id = ++i;\n      nodes.push(node);\n    }\n\n    recurse(root);\n    return nodes;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, \"Edit \", /*#__PURE__*/React.createElement(\"code\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 16\n    }\n  }, \"src/App.js\"), \" and save to reload.\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"App-link\",\n    href: \"https://reactjs.org\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, \"Learn React\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/fazal/Documents/reactjs/inbox-pivot/src/App.js"],"names":["React","d3","App","width","height","root","force","forceSimulation","linkDistance","charge","gravity","size","on","tick","svg","select","append","attr","link","selectAll","node","update","nodes","flatten","links","tree","start","data","d","target","id","exit","remove","enter","insert","nodeEnter","click","call","drag","Math","sqrt","text","name","style","color","source","x","y","_children","children","forEach","fixed","console","log","px","py","resume","i","recurse","push","logo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport * as d3 from 'd3';\n\nfunction App() {\n\n\n  var width = 400,\n            height = 500,\n            root;\n\n    var force = d3.forceSimulation()\n            .linkDistance(80)\n            .charge(-120)\n            .gravity(.05)\n            .size([width, height])\n            .on(\"tick\", tick);\n\n    var svg = d3.select(\"body\").append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\n    var link = svg.selectAll(\".link\"),\n            node = svg.selectAll(\".node\");\n    \nvar root = {\n    \"name\": \"root\",\n    \"children\": [{\n        \"name\": \"leaf1\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }, {\n        \"name\": \"leaf2\"\n    }]\n};\n\n\n    update();\n\n    function update() {\n        var nodes = flatten(root),\n                links = d3.tree().links(nodes);\n\n        // Restart the force layout.\n        force\n                .nodes(nodes)\n                .links(links)\n                .start();\n\n        // Update links.\n        link = link.data(links, function(d) { return d.target.id; });\n\n        link.exit().remove();\n\n        link.enter().insert(\"line\", \".node\")\n                .attr(\"class\", \"link\");\n\n        // Update nodes.\n        node = node.data(nodes, function(d) { return d.id; });\n\n        node.exit().remove();\n\n        var nodeEnter = node.enter().append(\"g\")\n                .attr(\"class\", \"node\")\n                .on(\"click\", click)\n                .call(force.drag);\n\n        nodeEnter.append(\"circle\")\n                .attr(\"r\", function(d) { return Math.sqrt(d.size) / 10 || 4.5; });\n\n        nodeEnter.append(\"text\")\n                .attr(\"dy\", \".35em\")\n                .text(function(d) { return d.name; });\n\n        node.select(\"circle\")\n                .style(\"fill\", color);\n\n    }\n\n    function tick() {\n        link.attr(\"x1\", function(d) { return d.source.x; })\n                .attr(\"y1\", function(d) { return d.source.y; })\n                .attr(\"x2\", function(d) { return d.target.x; })\n                .attr(\"y2\", function(d) { return d.target.y; });\n\n        node.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n    }\n\n    function color(d) {\n        return d._children ? \"#3182bd\" // collapsed package\n                : d.children ? \"#c6dbef\" // expanded package\n                : \"#fd8d3c\"; // leaf node\n    }\n\n    // Toggle children on click.\n    function click(d) {\n        (flatten(root))\n            .forEach(function(d){d.fixed = false;});\n        console.log(d);\n        d.fixed=true;\n        d.px = d.x = width/2;\n        d.py = d.y = width/2;\n        console.log(d);\n        force.resume();\n    }\n\n    // Returns a list of all nodes under the root.\n    function flatten(root) {\n        var nodes = [], i = 0;\n\n        function recurse(node) {\n            if (node.children) node.children.forEach(recurse);\n            if (!node.id) node.id = ++i;\n            nodes.push(node);\n        }\n\n        recurse(root);\n        return nodes;\n    }\n\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}