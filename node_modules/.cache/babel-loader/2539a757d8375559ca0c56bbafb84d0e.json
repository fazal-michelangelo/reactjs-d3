{"ast":null,"code":"var _jsxFileName = \"/Users/fazal/Documents/NETMONASTERY/reactjs-d3/src/LineAreaChart3.js\";\n\n/* eslint-disable no-unused-expressions */\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './lineAreaChart.css';\n\nconst moment = require('moment');\n\nconst BollingerBands = props => {\n  useEffect(() => {\n    console.log(props);\n    drawChart();\n  });\n\n  function drawChart() {\n    var div = d3.select(\"body\").append(\"div\").attr(\"class\", \"dnif_timeline-tooltip\").style(\"opacity\", 0);\n    var fables = [{\n      \"current\": 192,\n      \"upper\": 159,\n      \"lower\": 125,\n      \"date\": \"01-02-20\",\n      \"baseline\": 143\n    }, {\n      \"current\": 145,\n      \"upper\": 182,\n      \"lower\": 137,\n      \"date\": \"01-03-20\",\n      \"baseline\": 159\n    }, {\n      \"current\": 147,\n      \"upper\": 179,\n      \"lower\": 125,\n      \"date\": \"01-04-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 188,\n      \"upper\": 160,\n      \"lower\": 127,\n      \"date\": \"02-02-20\",\n      \"baseline\": 144\n    }, {\n      \"current\": 138,\n      \"upper\": 186,\n      \"lower\": 129,\n      \"date\": \"02-03-20\",\n      \"baseline\": 159\n    }, {\n      \"current\": 131,\n      \"upper\": 178,\n      \"lower\": 130,\n      \"date\": \"02-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 195,\n      \"upper\": 161,\n      \"lower\": 130,\n      \"date\": \"03-02-20\",\n      \"baseline\": 146\n    }, {\n      \"current\": 122,\n      \"upper\": 181,\n      \"lower\": 133,\n      \"date\": \"03-03-20\",\n      \"baseline\": 158\n    }, {\n      \"current\": 115,\n      \"upper\": 177,\n      \"lower\": 131,\n      \"date\": \"03-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 189,\n      \"upper\": 166,\n      \"lower\": 124,\n      \"date\": \"04-02-20\",\n      \"baseline\": 147\n    }, {\n      \"current\": 145,\n      \"upper\": 188,\n      \"lower\": 129,\n      \"date\": \"04-03-20\",\n      \"baseline\": 158\n    }, {\n      \"current\": 123,\n      \"upper\": 179,\n      \"lower\": 131,\n      \"date\": \"04-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 188,\n      \"upper\": 172,\n      \"lower\": 129,\n      \"date\": \"05-02-20\",\n      \"baseline\": 148\n    }, {\n      \"current\": 123,\n      \"upper\": 184,\n      \"lower\": 126,\n      \"date\": \"05-03-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 152,\n      \"upper\": 173,\n      \"lower\": 130,\n      \"date\": \"05-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 141,\n      \"upper\": 160,\n      \"lower\": 114,\n      \"date\": \"06-01-20\",\n      \"baseline\": 137\n    }, {\n      \"current\": 187,\n      \"upper\": 169,\n      \"lower\": 129,\n      \"date\": \"06-02-20\",\n      \"baseline\": 149\n    }, {\n      \"current\": 153,\n      \"upper\": 181,\n      \"lower\": 126,\n      \"date\": \"06-03-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 148,\n      \"upper\": 178,\n      \"lower\": 126,\n      \"date\": \"06-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 146,\n      \"upper\": 157,\n      \"lower\": 120,\n      \"date\": \"07-01-20\",\n      \"baseline\": 138\n    }, {\n      \"current\": 189,\n      \"upper\": 169,\n      \"lower\": 129,\n      \"date\": \"07-02-20\",\n      \"baseline\": 150\n    }, {\n      \"current\": 143,\n      \"upper\": 180,\n      \"lower\": 131,\n      \"date\": \"07-03-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 171,\n      \"upper\": 176,\n      \"lower\": 130,\n      \"date\": \"07-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 159,\n      \"upper\": 162,\n      \"lower\": 118,\n      \"date\": \"08-01-20\",\n      \"baseline\": 139\n    }, {\n      \"current\": 177,\n      \"upper\": 174,\n      \"lower\": 127,\n      \"date\": \"08-02-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 125,\n      \"upper\": 187,\n      \"lower\": 130,\n      \"date\": \"08-03-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 129,\n      \"upper\": 172,\n      \"lower\": 129,\n      \"date\": \"08-04-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 138,\n      \"upper\": 157,\n      \"lower\": 119,\n      \"date\": \"09-01-20\",\n      \"baseline\": 139\n    }, {\n      \"current\": 188,\n      \"upper\": 170,\n      \"lower\": 131,\n      \"date\": \"09-02-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 120,\n      \"upper\": 188,\n      \"lower\": 130,\n      \"date\": \"09-03-20\",\n      \"baseline\": 156\n    }, {\n      \"current\": 122,\n      \"upper\": 177,\n      \"lower\": 130,\n      \"date\": \"09-04-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 151,\n      \"upper\": 159,\n      \"lower\": 119,\n      \"date\": \"10-01-20\",\n      \"baseline\": 140\n    }, {\n      \"current\": 184,\n      \"upper\": 175,\n      \"lower\": 126,\n      \"date\": \"10-02-20\",\n      \"baseline\": 152\n    }, {\n      \"current\": 128,\n      \"upper\": 186,\n      \"lower\": 125,\n      \"date\": \"10-03-20\",\n      \"baseline\": 156\n    }, {\n      \"current\": 163,\n      \"upper\": 181,\n      \"lower\": 125,\n      \"date\": \"10-04-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 141,\n      \"upper\": 157,\n      \"lower\": 120,\n      \"date\": \"11-01-20\",\n      \"baseline\": 140\n    }, {\n      \"current\": 202,\n      \"upper\": 176,\n      \"lower\": 127,\n      \"date\": \"11-02-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 133,\n      \"upper\": 187,\n      \"lower\": 126,\n      \"date\": \"11-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 142,\n      \"upper\": 171,\n      \"lower\": 125,\n      \"date\": \"11-04-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 155,\n      \"upper\": 159,\n      \"lower\": 121,\n      \"date\": \"12-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 187,\n      \"upper\": 177,\n      \"lower\": 125,\n      \"date\": \"12-02-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 154,\n      \"upper\": 181,\n      \"lower\": 128,\n      \"date\": \"12-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 139,\n      \"upper\": 179,\n      \"lower\": 128,\n      \"date\": \"12-04-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 141,\n      \"upper\": 157,\n      \"lower\": 122,\n      \"date\": \"13-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 187,\n      \"upper\": 177,\n      \"lower\": 133,\n      \"date\": \"13-02-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 145,\n      \"upper\": 178,\n      \"lower\": 129,\n      \"date\": \"13-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 137,\n      \"upper\": 174,\n      \"lower\": 123,\n      \"date\": \"13-04-20\",\n      \"baseline\": 151\n    }, {\n      \"current\": 144,\n      \"upper\": 155,\n      \"lower\": 124,\n      \"date\": \"14-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 188,\n      \"upper\": 176,\n      \"lower\": 132,\n      \"date\": \"14-02-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 146,\n      \"upper\": 180,\n      \"lower\": 126,\n      \"date\": \"14-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 141,\n      \"upper\": 154,\n      \"lower\": 126,\n      \"date\": \"15-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 189,\n      \"upper\": 182,\n      \"lower\": 128,\n      \"date\": \"15-02-20\",\n      \"baseline\": 156\n    }, {\n      \"current\": 128,\n      \"upper\": 182,\n      \"lower\": 125,\n      \"date\": \"15-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 150,\n      \"upper\": 155,\n      \"lower\": 127,\n      \"date\": \"16-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 189,\n      \"upper\": 180,\n      \"lower\": 131,\n      \"date\": \"16-02-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 138,\n      \"upper\": 180,\n      \"lower\": 129,\n      \"date\": \"16-03-20\",\n      \"baseline\": 155\n    }, {\n      \"current\": 135,\n      \"upper\": 155,\n      \"lower\": 126,\n      \"date\": \"17-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 186,\n      \"upper\": 179,\n      \"lower\": 137,\n      \"date\": \"17-02-20\",\n      \"baseline\": 157\n    }, {\n      \"current\": 126,\n      \"upper\": 177,\n      \"lower\": 130,\n      \"date\": \"17-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 158,\n      \"upper\": 158,\n      \"lower\": 125,\n      \"date\": \"18-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 184,\n      \"upper\": 179,\n      \"lower\": 135,\n      \"date\": \"18-02-20\",\n      \"baseline\": 158\n    }, {\n      \"current\": 126,\n      \"upper\": 181,\n      \"lower\": 131,\n      \"date\": \"18-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 124,\n      \"upper\": 159,\n      \"lower\": 128,\n      \"date\": \"19-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 197,\n      \"upper\": 186,\n      \"lower\": 129,\n      \"date\": \"19-02-20\",\n      \"baseline\": 159\n    }, {\n      \"current\": 149,\n      \"upper\": 179,\n      \"lower\": 126,\n      \"date\": \"19-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 129,\n      \"upper\": 154,\n      \"lower\": 125,\n      \"date\": \"20-01-20\",\n      \"baseline\": 140\n    }, {\n      \"current\": 190,\n      \"upper\": 185,\n      \"lower\": 131,\n      \"date\": \"20-02-20\",\n      \"baseline\": 159\n    }, {\n      \"current\": 146,\n      \"upper\": 182,\n      \"lower\": 128,\n      \"date\": \"20-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 144,\n      \"upper\": 156,\n      \"lower\": 127,\n      \"date\": \"21-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 188,\n      \"upper\": 186,\n      \"lower\": 136,\n      \"date\": \"21-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 151,\n      \"upper\": 180,\n      \"lower\": 126,\n      \"date\": \"21-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 158,\n      \"upper\": 155,\n      \"lower\": 125,\n      \"date\": \"22-01-20\",\n      \"baseline\": 141\n    }, {\n      \"current\": 189,\n      \"upper\": 190,\n      \"lower\": 137,\n      \"date\": \"22-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 160,\n      \"upper\": 181,\n      \"lower\": 129,\n      \"date\": \"22-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 150,\n      \"upper\": 159,\n      \"lower\": 129,\n      \"date\": \"23-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 186,\n      \"upper\": 191,\n      \"lower\": 136,\n      \"date\": \"23-02-20\",\n      \"baseline\": 161\n    }, {\n      \"current\": 142,\n      \"upper\": 175,\n      \"lower\": 128,\n      \"date\": \"23-03-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 155,\n      \"upper\": 166,\n      \"lower\": 112,\n      \"date\": \"23-04-20\",\n      \"baseline\": 136\n    }, {\n      \"current\": 146,\n      \"upper\": 159,\n      \"lower\": 128,\n      \"date\": \"24-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 185,\n      \"upper\": 186,\n      \"lower\": 130,\n      \"date\": \"24-02-20\",\n      \"baseline\": 161\n    }, {\n      \"current\": 148,\n      \"upper\": 182,\n      \"lower\": 126,\n      \"date\": \"24-03-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 157,\n      \"upper\": 156,\n      \"lower\": 128,\n      \"date\": \"25-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 130,\n      \"upper\": 189,\n      \"lower\": 136,\n      \"date\": \"25-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 160,\n      \"upper\": 174,\n      \"lower\": 129,\n      \"date\": \"25-03-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 138,\n      \"upper\": 155,\n      \"lower\": 130,\n      \"date\": \"26-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 151,\n      \"upper\": 185,\n      \"lower\": 131,\n      \"date\": \"26-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 155,\n      \"upper\": 174,\n      \"lower\": 131,\n      \"date\": \"26-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 128,\n      \"upper\": 159,\n      \"lower\": 124,\n      \"date\": \"27-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 155,\n      \"upper\": 182,\n      \"lower\": 138,\n      \"date\": \"27-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 165,\n      \"upper\": 179,\n      \"lower\": 124,\n      \"date\": \"27-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 156,\n      \"upper\": 159,\n      \"lower\": 125,\n      \"date\": \"28-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 131,\n      \"upper\": 184,\n      \"lower\": 129,\n      \"date\": \"28-02-20\",\n      \"baseline\": 160\n    }, {\n      \"current\": 158,\n      \"upper\": 176,\n      \"lower\": 134,\n      \"date\": \"28-03-20\",\n      \"baseline\": 154\n    }, {\n      \"current\": 138,\n      \"upper\": 155,\n      \"lower\": 126,\n      \"date\": \"29-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 134,\n      \"upper\": 187,\n      \"lower\": 131,\n      \"date\": \"29-02-20\",\n      \"baseline\": 159\n    }, {\n      \"current\": 112,\n      \"upper\": 182,\n      \"lower\": 130,\n      \"date\": \"29-03-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 162,\n      \"upper\": 160,\n      \"lower\": 130,\n      \"date\": \"30-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 134,\n      \"upper\": 180,\n      \"lower\": 132,\n      \"date\": \"30-03-20\",\n      \"baseline\": 153\n    }, {\n      \"current\": 121,\n      \"upper\": 157,\n      \"lower\": 128,\n      \"date\": \"31-01-20\",\n      \"baseline\": 142\n    }, {\n      \"current\": 126,\n      \"upper\": 181,\n      \"lower\": 126,\n      \"date\": \"31-03-20\",\n      \"baseline\": 153\n    }];\n    var markerData = [{\n      \"date\": \"2014-08-06\",\n      \"type\": \"Client\",\n      \"version\": \"2.0\"\n    }, {\n      \"date\": \"2014-08-20\",\n      \"type\": \"Client\",\n      \"version\": \"2.1\"\n    }, {\n      \"date\": \"2014-08-27\",\n      \"type\": \"Server\",\n      \"version\": \"3.5\"\n    }, {\n      \"date\": \"2014-09-03\",\n      \"type\": \"Client\",\n      \"version\": \"2.2\"\n    }];\n\n    function addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight) {\n      var legendWidth = 200,\n          legendHeight = 100; // clipping to make sure nothing appears behind legend\n\n      svg.append('clipPath').attr('id', 'axes-clip').append('polygon').attr('points', -margin.left + ',' + -margin.top + ' ' + (chartWidth - legendWidth - 1) + ',' + -margin.top + ' ' + (chartWidth - legendWidth - 1) + ',' + legendHeight + ' ' + (chartWidth + margin.right) + ',' + legendHeight + ' ' + (chartWidth + margin.right) + ',' + (chartHeight + margin.bottom) + ' ' + -margin.left + ',' + (chartHeight + margin.bottom));\n      var axes = svg.append('g').attr('clip-path', 'url(#axes-clip)');\n      axes.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + chartHeight + ')').call(xAxis);\n      axes.append('g').attr('class', 'y axis').call(yAxis).append('text').attr('transform', 'rotate(-90)').attr('y', 6).attr('dy', '.71em').style('text-anchor', 'end'); // .text('Time (s)');\n\n      svg.append(\"text\").attr(\"transform\", \"translate(\" + chartWidth / 2 + \" ,\" + (chartHeight + margin.top + 20) + \")\").style(\"text-anchor\", \"middle\").text(\"Date\");\n      svg.append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 0 - margin.left).attr(\"x\", 0 - chartHeight / 2).attr(\"dy\", \"0.8em\").style(\"text-anchor\", \"middle\").text(\"Value\");\n      var legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + (chartWidth - legendWidth) + ', 0)');\n      legend.append('rect').attr('class', 'legend-bg').attr('width', legendWidth).attr('height', legendHeight);\n      legend.append('rect').attr('class', 'outer').attr('width', 75).attr('height', 20).attr('x', 10).attr('y', 10);\n      legend.append('text').attr('x', 115).attr('y', 25).text('5% - 95%');\n      legend.append('rect').attr('class', 'inner').attr('width', 75).attr('height', 20).attr('x', 10).attr('y', 40);\n      legend.append('text').attr('x', 115).attr('y', 55).text('25% - 75%');\n      legend.append('path').attr('class', 'median-line').attr('d', 'M10,80L85,80');\n      legend.append('text').attr('x', 115).attr('y', 85).text('Median');\n    }\n\n    function drawPaths(svg, data, x, y) {\n      var upperOuterArea = d3.area().curve(d3.curveBasis) // .interpolate('basis')\n      .x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.upper);\n      }).y1(function (d) {\n        return y(d.pct75);\n      });\n      var upperInnerArea = d3.area().curve(d3.curveBasis) // .interpolate('basis')\n      .x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.pct75);\n      }).y1(function (d) {\n        return y(d.current);\n      });\n      var medianLine = d3.line().curve(d3.curveLinear) // .interpolate('basis')\n      .x(function (d) {\n        return x(d.date);\n      }).y(function (d) {\n        return y(d.current);\n      });\n      var lowerInnerArea = d3.area().curve(d3.curveBasis) // .interpolate('basis')\n      .x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.current);\n      }).y1(function (d) {\n        return y(d.pct25);\n      });\n      var lowerOuterArea = d3.area().curve(d3.curveLinear) // .interpolate('basis')\n      .x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.upper);\n      }).y1(function (d) {\n        return y(d.lower);\n      });\n      svg.datum(data); // svg.append('path')\n      //   .attr('class', 'area upper outer')\n      //   .attr('d', upperOuterArea)\n      //   .attr('clip-path', 'url(#rect-clip)');\n\n      svg.append('path').attr('class', 'area lower outer').attr('d', lowerOuterArea).attr('clip-path', 'url(#rect-clip)'); // svg.append('path')\n      //   .attr('class', 'area upper inner')\n      //   .attr('d', upperInnerArea)\n      //   .attr('clip-path', 'url(#rect-clip)');\n      // svg.append('path')\n      //   .attr('class', 'area lower inner')\n      //   .attr('d', lowerInnerArea)\n      //   .attr('clip-path', 'url(#rect-clip)');\n\n      svg.append('path').attr('class', 'median-line').attr('d', medianLine).attr('clip-path', 'url(#rect-clip)');\n    }\n\n    function addMarker(marker, svg, chartHeight, x) {\n      var radius = 32,\n          xPos = x(marker.date) - radius - 3,\n          yPosStart = chartHeight - radius - 3,\n          yPosEnd = (marker.type === 'Client' ? 80 : 160) + radius - 3;\n      var markerG = svg.append('g').attr('class', 'marker ' + marker.type.toLowerCase()).attr('transform', 'translate(' + xPos + ', ' + yPosStart + ')').attr('opacity', 0);\n      markerG.transition().duration(1000).attr('transform', 'translate(' + xPos + ', ' + yPosEnd + ')').attr('opacity', 1);\n      markerG.append('path').attr('d', 'M' + radius + ',' + (chartHeight - yPosStart) + 'L' + radius + ',' + (chartHeight - yPosStart)).transition().duration(1000).attr('d', 'M' + radius + ',' + (chartHeight - yPosEnd) + 'L' + radius + ',' + radius * 2);\n      markerG.append('circle').attr('class', 'marker-bg').attr('cx', radius).attr('cy', radius).attr('r', radius);\n      markerG.append('text').attr('x', radius).attr('y', radius * 0.9).text(marker.type);\n      markerG.append('text').attr('x', radius).attr('y', radius * 1.5).text(marker.version);\n    }\n\n    function startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x) {\n      rectClip // .transition()\n      //   .duration(1000 * markers.length)\n      .attr('width', chartWidth);\n      markers.forEach(function (marker, i) {\n        setTimeout(function () {\n          addMarker(marker, svg, chartHeight, x);\n        }, 1000 + 500 * i);\n      });\n      var y = d3.scaleLinear().range([chartHeight, 0]).domain([0, d3.max(data, function (d) {\n        return d.upper;\n      })]);\n      var parseDate = d3.timeParse(\"%Y-%m-%d\");\n      svg.selectAll(\"dot\").data(data).enter().append(\"circle\").attr(\"class\", \"dot\").attr(\"r\", 5).attr(\"cx\", function (d) {\n        return x(d.date);\n      }).attr(\"cy\", function (d) {\n        return y(d.current);\n      }).style('fill', function (d) {\n        if (d.current > d.pct75) {\n          return \"red\";\n        } else {\n          return \"none\";\n        }\n      }).on(\"mouseover\", function (d) {\n        div.transition().duration(200).style(\"opacity\", .9);\n        div.html('user count' + \"<br/>\" + d.current).style(\"left\", d3.event.pageX + \"px\").style(\"top\", d3.event.pageY - 28 + \"px\");\n      }).on(\"mouseout\", function (d) {\n        div.transition().duration(500).style(\"opacity\", 0);\n      }); // gridlines in y axis function\n\n      function make_y_gridlines() {\n        return d3.axisLeft(y); // .ticks(5)\n      }\n\n      svg.append(\"g\").attr(\"class\", \"grid\").call(make_y_gridlines().tickSize(-chartWidth).tickFormat(\"\"));\n    }\n\n    function makeChart(data, markers) {\n      var svgWidth = 960,\n          svgHeight = 500,\n          margin = {\n        top: 20,\n        right: 20,\n        bottom: 40,\n        left: 40\n      },\n          chartWidth = svgWidth - margin.left - margin.right,\n          chartHeight = svgHeight - margin.top - margin.bottom; // var x = d3.time.scale().range([0, chartWidth])\n\n      var x = d3.scaleTime().range([0, chartWidth]).domain(d3.extent(data, function (d) {\n        return d.date;\n      })),\n          y = d3.scaleLinear().range([chartHeight, 0]).domain([0, d3.max(data, function (d) {\n        return d.upper;\n      })]); // var xAxis = d3.svg.axis().scale(x).orient('bottom')\n\n      var xAxis = d3.axisBottom(x); // .tickSize(-chartHeight).outerTickSize(0).tickPadding(10),\n      // yAxis = d3.svg.axis().scale(y).orient('left')\n\n      var yAxis = d3.axisLeft(y); // .innerTickSize(-chartWidth).outerTickSize(0).tickPadding(10);\n\n      var svg = d3.select('body').append('svg').attr('width', svgWidth).attr('height', svgHeight).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // clipping to start chart hidden and slide it in later\n\n      var rectClip = svg.append('clipPath').attr('id', 'rect-clip').append('rect').attr('width', 0).attr('height', chartHeight);\n      addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight);\n      drawPaths(svg, data, x, y);\n      startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x);\n    } // var parseDate = d3.time.format('%Y-%m-%d').parse;\n\n\n    var parseDate = d3.timeParse(\"%Y-%m-%d\");\n    var data = fables.map(function (d) {\n      return {\n        date: parseDate(d.date),\n        lower: d.lower / 1,\n        pct25: d.pct25 / 1,\n        current: d.current / 1,\n        pct75: d.pct75 / 1,\n        upper: d.upper / 1\n      };\n    });\n    var markers = markerData.map(function (marker) {\n      return {\n        date: parseDate(marker.date),\n        type: marker.type,\n        version: marker.version\n      };\n    });\n    makeChart(data, markers);\n  }\n\n  const d3Container = useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dnif_line_area-chart\",\n    width: 996,\n    height: 444,\n    ref: d3Container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1106,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default BollingerBands;","map":{"version":3,"sources":["/Users/fazal/Documents/NETMONASTERY/reactjs-d3/src/LineAreaChart3.js"],"names":["React","useRef","useEffect","d3","moment","require","BollingerBands","props","console","log","drawChart","div","select","append","attr","style","fables","markerData","addAxesAndLegend","svg","xAxis","yAxis","margin","chartWidth","chartHeight","legendWidth","legendHeight","left","top","right","bottom","axes","call","text","legend","drawPaths","data","x","y","upperOuterArea","area","curve","curveBasis","d","date","y0","upper","y1","pct75","upperInnerArea","current","medianLine","line","curveLinear","lowerInnerArea","pct25","lowerOuterArea","lower","datum","addMarker","marker","radius","xPos","yPosStart","yPosEnd","type","markerG","toLowerCase","transition","duration","version","startTransitions","rectClip","markers","forEach","i","setTimeout","scaleLinear","range","domain","max","parseDate","timeParse","selectAll","enter","on","html","event","pageX","pageY","make_y_gridlines","axisLeft","tickSize","tickFormat","makeChart","svgWidth","svgHeight","scaleTime","extent","axisBottom","map","d3Container"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\n\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './lineAreaChart.css';\nconst moment = require('moment');\n\n\nconst BollingerBands = (props) => {\n    useEffect(() => {\n\n        console.log(props)\n        drawChart();\n    });\n\n    function drawChart() {\n\n\n\n    var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"dnif_timeline-tooltip\")\t\t\t\t\n    .style(\"opacity\", 0);\n\n\n\n var fables = [\n\t{\n\t\t\"current\": 192,\n\t\t\"upper\": 159,\n\t\t\"lower\": 125,\n\t\t\"date\": \"01-02-20\",\n\t\t\"baseline\": 143\n\t},\n\t{\n\t\t\"current\": 145,\n\t\t\"upper\": 182,\n\t\t\"lower\": 137,\n\t\t\"date\": \"01-03-20\",\n\t\t\"baseline\": 159\n\t},\n\t{\n\t\t\"current\": 147,\n\t\t\"upper\": 179,\n\t\t\"lower\": 125,\n\t\t\"date\": \"01-04-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 188,\n\t\t\"upper\": 160,\n\t\t\"lower\": 127,\n\t\t\"date\": \"02-02-20\",\n\t\t\"baseline\": 144\n\t},\n\t{\n\t\t\"current\": 138,\n\t\t\"upper\": 186,\n\t\t\"lower\": 129,\n\t\t\"date\": \"02-03-20\",\n\t\t\"baseline\": 159\n\t},\n\t{\n\t\t\"current\": 131,\n\t\t\"upper\": 178,\n\t\t\"lower\": 130,\n\t\t\"date\": \"02-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 195,\n\t\t\"upper\": 161,\n\t\t\"lower\": 130,\n\t\t\"date\": \"03-02-20\",\n\t\t\"baseline\": 146\n\t},\n\t{\n\t\t\"current\": 122,\n\t\t\"upper\": 181,\n\t\t\"lower\": 133,\n\t\t\"date\": \"03-03-20\",\n\t\t\"baseline\": 158\n\t},\n\t{\n\t\t\"current\": 115,\n\t\t\"upper\": 177,\n\t\t\"lower\": 131,\n\t\t\"date\": \"03-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 189,\n\t\t\"upper\": 166,\n\t\t\"lower\": 124,\n\t\t\"date\": \"04-02-20\",\n\t\t\"baseline\": 147\n\t},\n\t{\n\t\t\"current\": 145,\n\t\t\"upper\": 188,\n\t\t\"lower\": 129,\n\t\t\"date\": \"04-03-20\",\n\t\t\"baseline\": 158\n\t},\n\t{\n\t\t\"current\": 123,\n\t\t\"upper\": 179,\n\t\t\"lower\": 131,\n\t\t\"date\": \"04-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 188,\n\t\t\"upper\": 172,\n\t\t\"lower\": 129,\n\t\t\"date\": \"05-02-20\",\n\t\t\"baseline\": 148\n\t},\n\t{\n\t\t\"current\": 123,\n\t\t\"upper\": 184,\n\t\t\"lower\": 126,\n\t\t\"date\": \"05-03-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 152,\n\t\t\"upper\": 173,\n\t\t\"lower\": 130,\n\t\t\"date\": \"05-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 141,\n\t\t\"upper\": 160,\n\t\t\"lower\": 114,\n\t\t\"date\": \"06-01-20\",\n\t\t\"baseline\": 137\n\t},\n\t{\n\t\t\"current\": 187,\n\t\t\"upper\": 169,\n\t\t\"lower\": 129,\n\t\t\"date\": \"06-02-20\",\n\t\t\"baseline\": 149\n\t},\n\t{\n\t\t\"current\": 153,\n\t\t\"upper\": 181,\n\t\t\"lower\": 126,\n\t\t\"date\": \"06-03-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 148,\n\t\t\"upper\": 178,\n\t\t\"lower\": 126,\n\t\t\"date\": \"06-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 146,\n\t\t\"upper\": 157,\n\t\t\"lower\": 120,\n\t\t\"date\": \"07-01-20\",\n\t\t\"baseline\": 138\n\t},\n\t{\n\t\t\"current\": 189,\n\t\t\"upper\": 169,\n\t\t\"lower\": 129,\n\t\t\"date\": \"07-02-20\",\n\t\t\"baseline\": 150\n\t},\n\t{\n\t\t\"current\": 143,\n\t\t\"upper\": 180,\n\t\t\"lower\": 131,\n\t\t\"date\": \"07-03-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 171,\n\t\t\"upper\": 176,\n\t\t\"lower\": 130,\n\t\t\"date\": \"07-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 159,\n\t\t\"upper\": 162,\n\t\t\"lower\": 118,\n\t\t\"date\": \"08-01-20\",\n\t\t\"baseline\": 139\n\t},\n\t{\n\t\t\"current\": 177,\n\t\t\"upper\": 174,\n\t\t\"lower\": 127,\n\t\t\"date\": \"08-02-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 125,\n\t\t\"upper\": 187,\n\t\t\"lower\": 130,\n\t\t\"date\": \"08-03-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 129,\n\t\t\"upper\": 172,\n\t\t\"lower\": 129,\n\t\t\"date\": \"08-04-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 138,\n\t\t\"upper\": 157,\n\t\t\"lower\": 119,\n\t\t\"date\": \"09-01-20\",\n\t\t\"baseline\": 139\n\t},\n\t{\n\t\t\"current\": 188,\n\t\t\"upper\": 170,\n\t\t\"lower\": 131,\n\t\t\"date\": \"09-02-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 120,\n\t\t\"upper\": 188,\n\t\t\"lower\": 130,\n\t\t\"date\": \"09-03-20\",\n\t\t\"baseline\": 156\n\t},\n\t{\n\t\t\"current\": 122,\n\t\t\"upper\": 177,\n\t\t\"lower\": 130,\n\t\t\"date\": \"09-04-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 151,\n\t\t\"upper\": 159,\n\t\t\"lower\": 119,\n\t\t\"date\": \"10-01-20\",\n\t\t\"baseline\": 140\n\t},\n\t{\n\t\t\"current\": 184,\n\t\t\"upper\": 175,\n\t\t\"lower\": 126,\n\t\t\"date\": \"10-02-20\",\n\t\t\"baseline\": 152\n\t},\n\t{\n\t\t\"current\": 128,\n\t\t\"upper\": 186,\n\t\t\"lower\": 125,\n\t\t\"date\": \"10-03-20\",\n\t\t\"baseline\": 156\n\t},\n\t{\n\t\t\"current\": 163,\n\t\t\"upper\": 181,\n\t\t\"lower\": 125,\n\t\t\"date\": \"10-04-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 141,\n\t\t\"upper\": 157,\n\t\t\"lower\": 120,\n\t\t\"date\": \"11-01-20\",\n\t\t\"baseline\": 140\n\t},\n\t{\n\t\t\"current\": 202,\n\t\t\"upper\": 176,\n\t\t\"lower\": 127,\n\t\t\"date\": \"11-02-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 133,\n\t\t\"upper\": 187,\n\t\t\"lower\": 126,\n\t\t\"date\": \"11-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 142,\n\t\t\"upper\": 171,\n\t\t\"lower\": 125,\n\t\t\"date\": \"11-04-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 155,\n\t\t\"upper\": 159,\n\t\t\"lower\": 121,\n\t\t\"date\": \"12-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 187,\n\t\t\"upper\": 177,\n\t\t\"lower\": 125,\n\t\t\"date\": \"12-02-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 154,\n\t\t\"upper\": 181,\n\t\t\"lower\": 128,\n\t\t\"date\": \"12-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 139,\n\t\t\"upper\": 179,\n\t\t\"lower\": 128,\n\t\t\"date\": \"12-04-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 141,\n\t\t\"upper\": 157,\n\t\t\"lower\": 122,\n\t\t\"date\": \"13-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 187,\n\t\t\"upper\": 177,\n\t\t\"lower\": 133,\n\t\t\"date\": \"13-02-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 145,\n\t\t\"upper\": 178,\n\t\t\"lower\": 129,\n\t\t\"date\": \"13-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 137,\n\t\t\"upper\": 174,\n\t\t\"lower\": 123,\n\t\t\"date\": \"13-04-20\",\n\t\t\"baseline\": 151\n\t},\n\t{\n\t\t\"current\": 144,\n\t\t\"upper\": 155,\n\t\t\"lower\": 124,\n\t\t\"date\": \"14-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 188,\n\t\t\"upper\": 176,\n\t\t\"lower\": 132,\n\t\t\"date\": \"14-02-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 146,\n\t\t\"upper\": 180,\n\t\t\"lower\": 126,\n\t\t\"date\": \"14-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 141,\n\t\t\"upper\": 154,\n\t\t\"lower\": 126,\n\t\t\"date\": \"15-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 189,\n\t\t\"upper\": 182,\n\t\t\"lower\": 128,\n\t\t\"date\": \"15-02-20\",\n\t\t\"baseline\": 156\n\t},\n\t{\n\t\t\"current\": 128,\n\t\t\"upper\": 182,\n\t\t\"lower\": 125,\n\t\t\"date\": \"15-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 150,\n\t\t\"upper\": 155,\n\t\t\"lower\": 127,\n\t\t\"date\": \"16-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 189,\n\t\t\"upper\": 180,\n\t\t\"lower\": 131,\n\t\t\"date\": \"16-02-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 138,\n\t\t\"upper\": 180,\n\t\t\"lower\": 129,\n\t\t\"date\": \"16-03-20\",\n\t\t\"baseline\": 155\n\t},\n\t{\n\t\t\"current\": 135,\n\t\t\"upper\": 155,\n\t\t\"lower\": 126,\n\t\t\"date\": \"17-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 186,\n\t\t\"upper\": 179,\n\t\t\"lower\": 137,\n\t\t\"date\": \"17-02-20\",\n\t\t\"baseline\": 157\n\t},\n\t{\n\t\t\"current\": 126,\n\t\t\"upper\": 177,\n\t\t\"lower\": 130,\n\t\t\"date\": \"17-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 158,\n\t\t\"upper\": 158,\n\t\t\"lower\": 125,\n\t\t\"date\": \"18-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 184,\n\t\t\"upper\": 179,\n\t\t\"lower\": 135,\n\t\t\"date\": \"18-02-20\",\n\t\t\"baseline\": 158\n\t},\n\t{\n\t\t\"current\": 126,\n\t\t\"upper\": 181,\n\t\t\"lower\": 131,\n\t\t\"date\": \"18-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 124,\n\t\t\"upper\": 159,\n\t\t\"lower\": 128,\n\t\t\"date\": \"19-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 197,\n\t\t\"upper\": 186,\n\t\t\"lower\": 129,\n\t\t\"date\": \"19-02-20\",\n\t\t\"baseline\": 159\n\t},\n\t{\n\t\t\"current\": 149,\n\t\t\"upper\": 179,\n\t\t\"lower\": 126,\n\t\t\"date\": \"19-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 129,\n\t\t\"upper\": 154,\n\t\t\"lower\": 125,\n\t\t\"date\": \"20-01-20\",\n\t\t\"baseline\": 140\n\t},\n\t{\n\t\t\"current\": 190,\n\t\t\"upper\": 185,\n\t\t\"lower\": 131,\n\t\t\"date\": \"20-02-20\",\n\t\t\"baseline\": 159\n\t},\n\t{\n\t\t\"current\": 146,\n\t\t\"upper\": 182,\n\t\t\"lower\": 128,\n\t\t\"date\": \"20-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 144,\n\t\t\"upper\": 156,\n\t\t\"lower\": 127,\n\t\t\"date\": \"21-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 188,\n\t\t\"upper\": 186,\n\t\t\"lower\": 136,\n\t\t\"date\": \"21-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 151,\n\t\t\"upper\": 180,\n\t\t\"lower\": 126,\n\t\t\"date\": \"21-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 158,\n\t\t\"upper\": 155,\n\t\t\"lower\": 125,\n\t\t\"date\": \"22-01-20\",\n\t\t\"baseline\": 141\n\t},\n\t{\n\t\t\"current\": 189,\n\t\t\"upper\": 190,\n\t\t\"lower\": 137,\n\t\t\"date\": \"22-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 160,\n\t\t\"upper\": 181,\n\t\t\"lower\": 129,\n\t\t\"date\": \"22-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 150,\n\t\t\"upper\": 159,\n\t\t\"lower\": 129,\n\t\t\"date\": \"23-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 186,\n\t\t\"upper\": 191,\n\t\t\"lower\": 136,\n\t\t\"date\": \"23-02-20\",\n\t\t\"baseline\": 161\n\t},\n\t{\n\t\t\"current\": 142,\n\t\t\"upper\": 175,\n\t\t\"lower\": 128,\n\t\t\"date\": \"23-03-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 155,\n\t\t\"upper\": 166,\n\t\t\"lower\": 112,\n\t\t\"date\": \"23-04-20\",\n\t\t\"baseline\": 136\n\t},\n\t{\n\t\t\"current\": 146,\n\t\t\"upper\": 159,\n\t\t\"lower\": 128,\n\t\t\"date\": \"24-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 185,\n\t\t\"upper\": 186,\n\t\t\"lower\": 130,\n\t\t\"date\": \"24-02-20\",\n\t\t\"baseline\": 161\n\t},\n\t{\n\t\t\"current\": 148,\n\t\t\"upper\": 182,\n\t\t\"lower\": 126,\n\t\t\"date\": \"24-03-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 157,\n\t\t\"upper\": 156,\n\t\t\"lower\": 128,\n\t\t\"date\": \"25-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 130,\n\t\t\"upper\": 189,\n\t\t\"lower\": 136,\n\t\t\"date\": \"25-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 160,\n\t\t\"upper\": 174,\n\t\t\"lower\": 129,\n\t\t\"date\": \"25-03-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 138,\n\t\t\"upper\": 155,\n\t\t\"lower\": 130,\n\t\t\"date\": \"26-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 151,\n\t\t\"upper\": 185,\n\t\t\"lower\": 131,\n\t\t\"date\": \"26-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 155,\n\t\t\"upper\": 174,\n\t\t\"lower\": 131,\n\t\t\"date\": \"26-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 128,\n\t\t\"upper\": 159,\n\t\t\"lower\": 124,\n\t\t\"date\": \"27-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 155,\n\t\t\"upper\": 182,\n\t\t\"lower\": 138,\n\t\t\"date\": \"27-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 165,\n\t\t\"upper\": 179,\n\t\t\"lower\": 124,\n\t\t\"date\": \"27-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 156,\n\t\t\"upper\": 159,\n\t\t\"lower\": 125,\n\t\t\"date\": \"28-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 131,\n\t\t\"upper\": 184,\n\t\t\"lower\": 129,\n\t\t\"date\": \"28-02-20\",\n\t\t\"baseline\": 160\n\t},\n\t{\n\t\t\"current\": 158,\n\t\t\"upper\": 176,\n\t\t\"lower\": 134,\n\t\t\"date\": \"28-03-20\",\n\t\t\"baseline\": 154\n\t},\n\t{\n\t\t\"current\": 138,\n\t\t\"upper\": 155,\n\t\t\"lower\": 126,\n\t\t\"date\": \"29-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 134,\n\t\t\"upper\": 187,\n\t\t\"lower\": 131,\n\t\t\"date\": \"29-02-20\",\n\t\t\"baseline\": 159\n\t},\n\t{\n\t\t\"current\": 112,\n\t\t\"upper\": 182,\n\t\t\"lower\": 130,\n\t\t\"date\": \"29-03-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 162,\n\t\t\"upper\": 160,\n\t\t\"lower\": 130,\n\t\t\"date\": \"30-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 134,\n\t\t\"upper\": 180,\n\t\t\"lower\": 132,\n\t\t\"date\": \"30-03-20\",\n\t\t\"baseline\": 153\n\t},\n\t{\n\t\t\"current\": 121,\n\t\t\"upper\": 157,\n\t\t\"lower\": 128,\n\t\t\"date\": \"31-01-20\",\n\t\t\"baseline\": 142\n\t},\n\t{\n\t\t\"current\": 126,\n\t\t\"upper\": 181,\n\t\t\"lower\": 126,\n\t\t\"date\": \"31-03-20\",\n\t\t\"baseline\": 153\n\t}\n]\n\n\n      \n      var markerData = \n      [\n        {\n          \"date\": \"2014-08-06\",\n          \"type\": \"Client\",\n          \"version\": \"2.0\"\n        },\n        {\n          \"date\": \"2014-08-20\",\n          \"type\": \"Client\",\n          \"version\": \"2.1\"\n        },\n        {\n          \"date\": \"2014-08-27\",\n          \"type\": \"Server\",\n          \"version\": \"3.5\"\n        },\n        {\n          \"date\": \"2014-09-03\",\n          \"type\": \"Client\",\n          \"version\": \"2.2\"\n        }\n      ]\n      \n      \n          function addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight) {\n            var legendWidth = 200,\n              legendHeight = 100;\n      \n            // clipping to make sure nothing appears behind legend\n            svg.append('clipPath')\n              .attr('id', 'axes-clip')\n              .append('polygon')\n              .attr('points', (-margin.left) + ',' + (-margin.top) + ' ' +\n                (chartWidth - legendWidth - 1) + ',' + (-margin.top) + ' ' +\n                (chartWidth - legendWidth - 1) + ',' + legendHeight + ' ' +\n                (chartWidth + margin.right) + ',' + legendHeight + ' ' +\n                (chartWidth + margin.right) + ',' + (chartHeight + margin.bottom) + ' ' +\n                (-margin.left) + ',' + (chartHeight + margin.bottom));\n      \n\n\n\n            var axes = svg.append('g')\n              .attr('clip-path', 'url(#axes-clip)');\n      \n            axes.append('g')\n              .attr('class', 'x axis')\n              .attr('transform', 'translate(0,' + chartHeight + ')')\n              .call(xAxis);\n      \n            axes.append('g')\n              .attr('class', 'y axis')\n              .call(yAxis)\n              .append('text')\n              .attr('transform', 'rotate(-90)')\n              .attr('y', 6)\n              .attr('dy', '.71em')\n              .style('text-anchor', 'end')\n              // .text('Time (s)');\n\n\n              svg.append(\"text\")             \n      .attr(\"transform\",\n            \"translate(\" + (chartWidth/2) + \" ,\" + \n                           (chartHeight + margin.top + 20) + \")\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Date\");\n\n\n      svg.append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin.left)\n      .attr(\"x\",0 - (chartHeight  / 2))\n      .attr(\"dy\", \"0.8em\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Value\");      \n\n\n\n      \n            var legend = svg.append('g')\n              .attr('class', 'legend')\n              .attr('transform', 'translate(' + (chartWidth - legendWidth) + ', 0)');\n      \n            legend.append('rect')\n              .attr('class', 'legend-bg')\n              .attr('width', legendWidth)\n              .attr('height', legendHeight);\n      \n            legend.append('rect')\n              .attr('class', 'outer')\n              .attr('width', 75)\n              .attr('height', 20)\n              .attr('x', 10)\n              .attr('y', 10);\n      \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 25)\n              .text('5% - 95%');\n      \n            legend.append('rect')\n              .attr('class', 'inner')\n              .attr('width', 75)\n              .attr('height', 20)\n              .attr('x', 10)\n              .attr('y', 40);\n      \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 55)\n              .text('25% - 75%');\n      \n            legend.append('path')\n              .attr('class', 'median-line')\n              .attr('d', 'M10,80L85,80');\n      \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 85)\n              .text('Median');\n          }\n      \n          function drawPaths(svg, data, x, y) {\n            var upperOuterArea = d3.area()\n              .curve(d3.curveBasis)\n              // .interpolate('basis')\n              .x(function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.upper); })\n              .y1(function (d) { return y(d.pct75); });\n      \n            var upperInnerArea = d3.area()\n              .curve(d3.curveBasis)\n              // .interpolate('basis')\n              .x(function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.pct75); })\n              .y1(function (d) { return y(d.current); });\n      \n            var medianLine = d3.line()\n              .curve(d3.curveLinear)\n              // .interpolate('basis')\n              .x(function (d) { return x(d.date); })\n              .y(function (d) { return y(d.current); });\n      \n            var lowerInnerArea = d3.area()\n              .curve(d3.curveBasis)\n              // .interpolate('basis')\n              .x(function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.current); })\n              .y1(function (d) { return y(d.pct25); });\n      \n            var lowerOuterArea = d3.area()\n              .curve(d3.curveLinear)\n              // .interpolate('basis')\n              .x(function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.upper); })\n              .y1(function (d) { return y(d.lower); });\n      \n            svg.datum(data);\n      \n            // svg.append('path')\n            //   .attr('class', 'area upper outer')\n            //   .attr('d', upperOuterArea)\n            //   .attr('clip-path', 'url(#rect-clip)');\n      \n            svg.append('path')\n              .attr('class', 'area lower outer')\n              .attr('d', lowerOuterArea)\n              .attr('clip-path', 'url(#rect-clip)');\n      \n            // svg.append('path')\n            //   .attr('class', 'area upper inner')\n            //   .attr('d', upperInnerArea)\n            //   .attr('clip-path', 'url(#rect-clip)');\n      \n            // svg.append('path')\n            //   .attr('class', 'area lower inner')\n            //   .attr('d', lowerInnerArea)\n            //   .attr('clip-path', 'url(#rect-clip)');\n      \n            svg.append('path')\n              .attr('class', 'median-line')\n              .attr('d', medianLine)\n              .attr('clip-path', 'url(#rect-clip)');\n          }\n      \n          function addMarker(marker, svg, chartHeight, x) {\n            var radius = 32,\n              xPos = x(marker.date) - radius - 3,\n              yPosStart = chartHeight - radius - 3,\n              yPosEnd = (marker.type === 'Client' ? 80 : 160) + radius - 3;\n      \n            var markerG = svg.append('g')\n              .attr('class', 'marker ' + marker.type.toLowerCase())\n              .attr('transform', 'translate(' + xPos + ', ' + yPosStart + ')')\n              .attr('opacity', 0);\n      \n            markerG.transition()\n              .duration(1000)\n              .attr('transform', 'translate(' + xPos + ', ' + yPosEnd + ')')\n              .attr('opacity', 1);\n      \n            markerG.append('path')\n              .attr('d', 'M' + radius + ',' + (chartHeight - yPosStart) + 'L' + radius + ',' + (chartHeight - yPosStart))\n              .transition()\n              .duration(1000)\n              .attr('d', 'M' + radius + ',' + (chartHeight - yPosEnd) + 'L' + radius + ',' + (radius * 2));\n      \n            markerG.append('circle')\n              .attr('class', 'marker-bg')\n              .attr('cx', radius)\n              .attr('cy', radius)\n              .attr('r', radius);\n      \n            markerG.append('text')\n              .attr('x', radius)\n              .attr('y', radius * 0.9)\n              .text(marker.type);\n      \n            markerG.append('text')\n              .attr('x', radius)\n              .attr('y', radius * 1.5)\n              .text(marker.version);\n          }\n      \n          function startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x) {\n            rectClip\n            // .transition()\n            //   .duration(1000 * markers.length)\n              .attr('width', chartWidth);\n      \n            markers.forEach(function (marker, i) {\n              setTimeout(function () {\n                addMarker(marker, svg, chartHeight, x);\n              }, 1000 + 500 * i);\n            });\n\n\n\n  \n\n\n            var y = d3.scaleLinear().range([chartHeight, 0])\n            .domain([0, d3.max(data, function (d) { return d.upper; })]);\n\n\n\n            var parseDate = d3.timeParse(\"%Y-%m-%d\");\n      \n        \n\n\n            svg.selectAll(\"dot\")\n            .data(data)\n            .enter().append(\"circle\")\n            .attr(\"class\", \"dot\")\n            .attr(\"r\",5)\n            .attr(\"cx\", function(d) { return x(d.date); })\n            .attr(\"cy\", function(d) { return y(d.current); })\n\n            .style('fill', function(d) {\n                if(d.current > d.pct75) { return \"red\"}\n                else {return \"none\"}\n            })\n  \n      \n            .on(\"mouseover\", function(d) {\t\t\n                div.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", .9);\t\t\n                div.html('user count' + \"<br/>\"  + d.current)\t\n                    .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                })\t\t\t\t\t\n            .on(\"mouseout\", function(d) {\t\t\n                div.transition()\t\t\n                    .duration(500)\t\t\n                    .style(\"opacity\", 0);\t\n            });\n\n\n\n                \n\n            // gridlines in y axis function\n            function make_y_gridlines() {\t\t\n                return d3.axisLeft(y)\n                    // .ticks(5)\n            }\n\n\n            svg.append(\"g\")\t\t\t\n            .attr(\"class\", \"grid\")\n            .call(make_y_gridlines()\n                .tickSize(-chartWidth)\n                .tickFormat(\"\")\n            )\n\n\n          }\n      \n          function makeChart(data, markers) {\n            var svgWidth = 960,\n              svgHeight = 500,\n              margin = { top: 20, right: 20, bottom: 40, left: 40 },\n              chartWidth = svgWidth - margin.left - margin.right,\n              chartHeight = svgHeight - margin.top - margin.bottom;\n      \n            // var x = d3.time.scale().range([0, chartWidth])\n      \n            var x = d3.scaleTime().range([0, chartWidth])\n              .domain(d3.extent(data, function (d) { return d.date; })),\n              y = d3.scaleLinear().range([chartHeight, 0])\n                .domain([0, d3.max(data, function (d) { return d.upper; })]);\n      \n            // var xAxis = d3.svg.axis().scale(x).orient('bottom')\n            var xAxis = d3.axisBottom(x);\n              // .tickSize(-chartHeight).outerTickSize(0).tickPadding(10),\n      \n      \n              // yAxis = d3.svg.axis().scale(y).orient('left')\n      \n              var yAxis = d3.axisLeft(y);\n                // .innerTickSize(-chartWidth).outerTickSize(0).tickPadding(10);\n      \n            var svg = d3.select('body').append('svg')\n              .attr('width', svgWidth)\n              .attr('height', svgHeight)\n              .append('g')\n              .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n      \n            // clipping to start chart hidden and slide it in later\n            var rectClip = svg.append('clipPath')\n              .attr('id', 'rect-clip')\n              .append('rect')\n              .attr('width', 0)\n              .attr('height', chartHeight);\n      \n            addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight);\n            drawPaths(svg, data, x, y);\n            startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x);\n          }\n      \n          // var parseDate = d3.time.format('%Y-%m-%d').parse;\n          var parseDate = d3.timeParse(\"%Y-%m-%d\");\n      \n            \n      \n            var data = fables.map(function (d) {\n              return {\n                date: parseDate(d.date),\n                lower: d.lower / 1,\n                pct25: d.pct25 / 1,\n                current: d.current / 1,\n                pct75: d.pct75 / 1,\n                upper: d.upper / 1\n              };\n            });\n      \n              \n              var markers = markerData.map(function (marker) {\n                return {\n                  date: parseDate(marker.date),\n                  type: marker.type,\n                  version: marker.version\n                };\n              });\n              makeChart(data, markers);\n    \n    }  \n\n    const d3Container = useRef(null);\n\n    return (\n        <div\n            className=\"dnif_line_area-chart\"\n            width={996}\n            height={444}\n            ref={d3Container}\n        ></div>\n    );\n}\n\nexport default BollingerBands;"]},"metadata":{},"sourceType":"module"}