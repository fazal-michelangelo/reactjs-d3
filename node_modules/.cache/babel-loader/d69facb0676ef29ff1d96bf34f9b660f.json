{"ast":null,"code":"var _jsxFileName = \"/home/fazal/Documents/claudius/D3-charts/src/LineAreaChart.js\";\n\n/* eslint-disable no-unused-expressions */\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { lab } from 'd3';\n\nconst moment = require('moment');\n\nconst BollingerBands = props => {\n  useEffect(() => {\n    drawChart();\n  });\n\n  function drawChart() {\n    // var testData = \n    // [\n    //     {\n    //       \"date\": \"2014-08-01\",\n    //       \"pct05\": 5350,\n    //       \"pct25\": 6756,\n    //       \"pct50\": 7819,\n    //       \"pct75\": 9284,\n    //       \"pct95\": 13835\n    //     },\n    //     {\n    //       \"date\": \"2014-08-02\",\n    //       \"pct05\": 4439,\n    //       \"pct25\": 5584,\n    //       \"pct50\": 6554,\n    //       \"pct75\": 8016,\n    //       \"pct95\": 12765\n    //     },\n    //     {\n    //       \"date\": \"2014-08-03\",\n    //       \"pct05\": 4247,\n    //       \"pct25\": 5419,\n    //       \"pct50\": 6332,\n    //       \"pct75\": 7754,\n    //       \"pct95\": 12236\n    //     },\n    //     {\n    //       \"date\": \"2014-08-04\",\n    //       \"pct05\": 3293,\n    //       \"pct25\": 4414,\n    //       \"pct50\": 5191,\n    //       \"pct75\": 6491,\n    //       \"pct95\": 10325\n    //     },\n    //     {\n    //       \"date\": \"2014-08-05\",\n    //       \"pct05\": 3942,\n    //       \"pct25\": 5134,\n    //       \"pct50\": 6069,\n    //       \"pct75\": 7501,\n    //       \"pct95\": 11685\n    //     },\n    //     {\n    //       \"date\": \"2014-08-06\",\n    //       \"pct05\": 2744,\n    //       \"pct25\": 5508,\n    //       \"pct50\": 6879,\n    //       \"pct75\": 9221,\n    //       \"pct95\": 17239\n    //     },\n    //     {\n    //       \"date\": \"2014-08-07\",\n    //       \"pct05\": 1807,\n    //       \"pct25\": 3019,\n    //       \"pct50\": 4119,\n    //       \"pct75\": 5656,\n    //       \"pct95\": 8851\n    //     },\n    //     {\n    //       \"date\": \"2014-08-08\",\n    //       \"pct05\": 1855,\n    //       \"pct25\": 3386,\n    //       \"pct50\": 4473,\n    //       \"pct75\": 5915,\n    //       \"pct95\": 10580\n    //     },\n    //     {\n    //       \"date\": \"2014-08-09\",\n    //       \"pct05\": 1830,\n    //       \"pct25\": 3202,\n    //       \"pct50\": 4233,\n    //       \"pct75\": 5559,\n    //       \"pct95\": 8930\n    //     },\n    //     {\n    //       \"date\": \"2014-08-10\",\n    //       \"pct05\": 1828,\n    //       \"pct25\": 3195,\n    //       \"pct50\": 4304,\n    //       \"pct75\": 5482,\n    //       \"pct95\": 9189\n    //     },\n    //     {\n    //       \"date\": \"2014-08-11\",\n    //       \"pct05\": 2246,\n    //       \"pct25\": 3929,\n    //       \"pct50\": 5326,\n    //       \"pct75\": 7077,\n    //       \"pct95\": 11648\n    //     },\n    //     {\n    //       \"date\": \"2014-08-12\",\n    //       \"pct05\": 2051,\n    //       \"pct25\": 3662,\n    //       \"pct50\": 4849,\n    //       \"pct75\": 6194,\n    //       \"pct95\": 10078\n    //     },\n    //     {\n    //       \"date\": \"2014-08-13\",\n    //       \"pct05\": 1700,\n    //       \"pct25\": 3075,\n    //       \"pct50\": 4068,\n    //       \"pct75\": 5259,\n    //       \"pct95\": 9789\n    //     },\n    //     {\n    //       \"date\": \"2014-08-14\",\n    //       \"pct05\": 2161,\n    //       \"pct25\": 3891,\n    //       \"pct50\": 5262,\n    //       \"pct75\": 6924,\n    //       \"pct95\": 11612\n    //     },\n    //     {\n    //       \"date\": \"2014-08-15\",\n    //       \"pct05\": 1765,\n    //       \"pct25\": 3190,\n    //       \"pct50\": 4388,\n    //       \"pct75\": 5822,\n    //       \"pct95\": 9433\n    //     },\n    //     {\n    //       \"date\": \"2014-08-16\",\n    //       \"pct05\": 2036,\n    //       \"pct25\": 3756,\n    //       \"pct50\": 4775,\n    //       \"pct75\": 6158,\n    //       \"pct95\": 9999\n    //     },\n    //     {\n    //       \"date\": \"2014-08-17\",\n    //       \"pct05\": 2079,\n    //       \"pct25\": 3561,\n    //       \"pct50\": 4753,\n    //       \"pct75\": 6124,\n    //       \"pct95\": 9807\n    //     },\n    //     {\n    //       \"date\": \"2014-08-18\",\n    //       \"pct05\": 2108,\n    //       \"pct25\": 3576,\n    //       \"pct50\": 4818,\n    //       \"pct75\": 6344,\n    //       \"pct95\": 10235\n    //     },\n    //     {\n    //       \"date\": \"2014-08-19\",\n    //       \"pct05\": 2143,\n    //       \"pct25\": 3792,\n    //       \"pct50\": 5073,\n    //       \"pct75\": 6772,\n    //       \"pct95\": 11338\n    //     },\n    //     {\n    //       \"date\": \"2014-08-20\",\n    //       \"pct05\": 2086,\n    //       \"pct25\": 3801,\n    //       \"pct50\": 5073,\n    //       \"pct75\": 6688,\n    //       \"pct95\": 12394\n    //     },\n    //     {\n    //       \"date\": \"2014-08-21\",\n    //       \"pct05\": 1767,\n    //       \"pct25\": 3253,\n    //       \"pct50\": 4282,\n    //       \"pct75\": 5563,\n    //       \"pct95\": 9167\n    //     },\n    //     {\n    //       \"date\": \"2014-08-22\",\n    //       \"pct05\": 1756,\n    //       \"pct25\": 3047,\n    //       \"pct50\": 3950,\n    //       \"pct75\": 5006,\n    //       \"pct95\": 7948\n    //     },\n    //     {\n    //       \"date\": \"2014-08-23\",\n    //       \"pct05\": 2123,\n    //       \"pct25\": 3755,\n    //       \"pct50\": 5173,\n    //       \"pct75\": 7243,\n    //       \"pct95\": 12338\n    //     },\n    //     {\n    //       \"date\": \"2014-08-24\",\n    //       \"pct05\": 1967,\n    //       \"pct25\": 3404,\n    //       \"pct50\": 4529,\n    //       \"pct75\": 5970,\n    //       \"pct95\": 9897\n    //     },\n    //     {\n    //       \"date\": \"2014-08-25\",\n    //       \"pct05\": 1537,\n    //       \"pct25\": 2612,\n    //       \"pct50\": 3394,\n    //       \"pct75\": 4279,\n    //       \"pct95\": 7104\n    //     },\n    //     {\n    //       \"date\": \"2014-08-26\",\n    //       \"pct05\": 2182,\n    //       \"pct25\": 3958,\n    //       \"pct50\": 5505,\n    //       \"pct75\": 7642,\n    //       \"pct95\": 12707\n    //     },\n    //     {\n    //       \"date\": \"2014-08-27\",\n    //       \"pct05\": 1932,\n    //       \"pct25\": 3366,\n    //       \"pct50\": 4526,\n    //       \"pct75\": 6086,\n    //       \"pct95\": 9930\n    //     },\n    //     {\n    //       \"date\": \"2014-08-28\",\n    //       \"pct05\": 1268,\n    //       \"pct25\": 2344,\n    //       \"pct50\": 3256,\n    //       \"pct75\": 4215,\n    //       \"pct95\": 6673\n    //     },\n    //     {\n    //       \"date\": \"2014-08-29\",\n    //       \"pct05\": 1225,\n    //       \"pct25\": 2239,\n    //       \"pct50\": 3033,\n    //       \"pct75\": 4111,\n    //       \"pct95\": 7601\n    //     },\n    //     {\n    //       \"date\": \"2014-08-30\",\n    //       \"pct05\": 1393,\n    //       \"pct25\": 2432,\n    //       \"pct50\": 3417,\n    //       \"pct75\": 4710,\n    //       \"pct95\": 8798\n    //     },\n    //     {\n    //       \"date\": \"2014-08-31\",\n    //       \"pct05\": 1175,\n    //       \"pct25\": 2020,\n    //       \"pct50\": 2768,\n    //       \"pct75\": 3889,\n    //       \"pct95\": 7744\n    //     },\n    //     {\n    //       \"date\": \"2014-09-01\",\n    //       \"pct05\": 989,\n    //       \"pct25\": 1655,\n    //       \"pct50\": 2218,\n    //       \"pct75\": 3167,\n    //       \"pct95\": 6018\n    //     },\n    //     {\n    //       \"date\": \"2014-09-02\",\n    //       \"pct05\": 1249,\n    //       \"pct25\": 2069,\n    //       \"pct50\": 2738,\n    //       \"pct75\": 3938,\n    //       \"pct95\": 7574\n    //     },\n    //     {\n    //       \"date\": \"2014-09-03\",\n    //       \"pct05\": 936,\n    //       \"pct25\": 1510,\n    //       \"pct50\": 1968,\n    //       \"pct75\": 2700,\n    //       \"pct95\": 5215\n    //     },\n    //     {\n    //       \"date\": \"2014-09-04\",\n    //       \"pct05\": 1264,\n    //       \"pct25\": 2039,\n    //       \"pct50\": 2657,\n    //       \"pct75\": 3646,\n    //       \"pct95\": 7042\n    //     },\n    //     {\n    //       \"date\": \"2014-09-05\",\n    //       \"pct05\": 1305,\n    //       \"pct25\": 2106,\n    //       \"pct50\": 2745,\n    //       \"pct75\": 3766,\n    //       \"pct95\": 7273\n    //     },\n    //     {\n    //       \"date\": \"2014-09-06\",\n    //       \"pct05\": 798,\n    //       \"pct25\": 1288,\n    //       \"pct50\": 1678,\n    //       \"pct75\": 2303,\n    //       \"pct95\": 4448\n    //     },\n    //     {\n    //       \"date\": \"2014-09-07\",\n    //       \"pct05\": 1314,\n    //       \"pct25\": 2120,\n    //       \"pct50\": 2763,\n    //       \"pct75\": 3791,\n    //       \"pct95\": 7321\n    //     },\n    //     {\n    //       \"date\": \"2014-09-08\",\n    //       \"pct05\": 1042,\n    //       \"pct25\": 1681,\n    //       \"pct50\": 2191,\n    //       \"pct75\": 3007,\n    //       \"pct95\": 5806\n    //     }\n    //   ];          \n    function addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight) {\n      var legendWidth = 200,\n          legendHeight = 100;\n      console.log('i just want to print this chart'); // clipping to make sure nothing appears behind legend\n\n      svg.append('clipPath').attr('id', 'axes-clip').append('polygon').attr('points', -margin.left + ',' + -margin.top + ' ' + (chartWidth - legendWidth - 1) + ',' + -margin.top + ' ' + (chartWidth - legendWidth - 1) + ',' + legendHeight + ' ' + (chartWidth + margin.right) + ',' + legendHeight + ' ' + (chartWidth + margin.right) + ',' + (chartHeight + margin.bottom) + ' ' + -margin.left + ',' + (chartHeight + margin.bottom));\n      var axes = svg.append('g').attr('clip-path', 'url(#axes-clip)');\n      axes.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + chartHeight + ')').call(xAxis);\n      axes.append('g').attr('class', 'y axis').call(yAxis).append('text').attr('transform', 'rotate(-90)').attr('y', 6).attr('dy', '.71em').style('text-anchor', 'end').text('Time (s)');\n      var legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + (chartWidth - legendWidth) + ', 0)');\n      legend.append('rect').attr('class', 'legend-bg').attr('width', legendWidth).attr('height', legendHeight);\n      legend.append('rect').attr('class', 'outer').attr('width', 75).attr('height', 20).attr('x', 10).attr('y', 10);\n      legend.append('text').attr('x', 115).attr('y', 25).text('5% - 95%');\n      legend.append('rect').attr('class', 'inner').attr('width', 75).attr('height', 20).attr('x', 10).attr('y', 40);\n      legend.append('text').attr('x', 115).attr('y', 55).text('25% - 75%');\n      legend.append('path').attr('class', 'median-line').attr('d', 'M10,80L85,80');\n      legend.append('text').attr('x', 115).attr('y', 85).text('Median');\n    }\n\n    function drawPaths(svg, data, x, y) {\n      var upperOuterArea = d3.svg.area().interpolate('basis').x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.pct95);\n      }).y1(function (d) {\n        return y(d.pct75);\n      });\n      var upperInnerArea = d3.svg.area().interpolate('basis').x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.pct75);\n      }).y1(function (d) {\n        return y(d.pct50);\n      });\n      var medianLine = d3.svg.line().interpolate('basis').x(function (d) {\n        return x(d.date);\n      }).y(function (d) {\n        return y(d.pct50);\n      });\n      var lowerInnerArea = d3.svg.area().interpolate('basis').x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.pct50);\n      }).y1(function (d) {\n        return y(d.pct25);\n      });\n      var lowerOuterArea = d3.svg.area().interpolate('basis').x(function (d) {\n        return x(d.date) || 1;\n      }).y0(function (d) {\n        return y(d.pct25);\n      }).y1(function (d) {\n        return y(d.pct05);\n      });\n      svg.datum(data);\n      svg.append('path').attr('class', 'area upper outer').attr('d', upperOuterArea).attr('clip-path', 'url(#rect-clip)');\n      svg.append('path').attr('class', 'area lower outer').attr('d', lowerOuterArea).attr('clip-path', 'url(#rect-clip)');\n      svg.append('path').attr('class', 'area upper inner').attr('d', upperInnerArea).attr('clip-path', 'url(#rect-clip)');\n      svg.append('path').attr('class', 'area lower inner').attr('d', lowerInnerArea).attr('clip-path', 'url(#rect-clip)');\n      svg.append('path').attr('class', 'median-line').attr('d', medianLine).attr('clip-path', 'url(#rect-clip)');\n    }\n\n    function addMarker(marker, svg, chartHeight, x) {\n      var radius = 32,\n          xPos = x(marker.date) - radius - 3,\n          yPosStart = chartHeight - radius - 3,\n          yPosEnd = (marker.type === 'Client' ? 80 : 160) + radius - 3;\n      var markerG = svg.append('g').attr('class', 'marker ' + marker.type.toLowerCase()).attr('transform', 'translate(' + xPos + ', ' + yPosStart + ')').attr('opacity', 0);\n      markerG.transition().duration(1000).attr('transform', 'translate(' + xPos + ', ' + yPosEnd + ')').attr('opacity', 1);\n      markerG.append('path').attr('d', 'M' + radius + ',' + (chartHeight - yPosStart) + 'L' + radius + ',' + (chartHeight - yPosStart)).transition().duration(1000).attr('d', 'M' + radius + ',' + (chartHeight - yPosEnd) + 'L' + radius + ',' + radius * 2);\n      markerG.append('circle').attr('class', 'marker-bg').attr('cx', radius).attr('cy', radius).attr('r', radius);\n      markerG.append('text').attr('x', radius).attr('y', radius * 0.9).text(marker.type);\n      markerG.append('text').attr('x', radius).attr('y', radius * 1.5).text(marker.version);\n    }\n\n    function startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x) {\n      rectClip.transition().duration(1000 * markers.length).attr('width', chartWidth);\n      markers.forEach(function (marker, i) {\n        setTimeout(function () {\n          addMarker(marker, svg, chartHeight, x);\n        }, 1000 + 500 * i);\n      });\n    }\n\n    function makeChart(data, markers) {\n      var svgWidth = 960,\n          svgHeight = 500,\n          margin = {\n        top: 20,\n        right: 20,\n        bottom: 40,\n        left: 40\n      },\n          chartWidth = svgWidth - margin.left - margin.right,\n          chartHeight = svgHeight - margin.top - margin.bottom;\n      var x = d3.scaleTime().range([0, chartWidth]) // var x = d3.time.scale().range([0, chartWidth])\n      .domain(d3.extent(data, function (d) {\n        return d.date;\n      })),\n          y = d3.scaleLinear().range([chartHeight, 0]).domain([0, d3.max(data, function (d) {\n        return d.pct95;\n      })]);\n      var xAxis = d3.svg.axis().scale(x).orient('bottom').innerTickSize(-chartHeight).outerTickSize(0).tickPadding(10),\n          yAxis = d3.svg.axis().scale(y).orient('left').innerTickSize(-chartWidth).outerTickSize(0).tickPadding(10);\n      var svg = d3.select(d3Container.current).append('svg').attr('width', svgWidth).attr('height', svgHeight).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // clipping to start chart hidden and slide it in later\n\n      var rectClip = svg.append('clipPath').attr('id', 'rect-clip').append('rect').attr('width', 0).attr('height', chartHeight);\n      addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight);\n      drawPaths(svg, data, x, y);\n      startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x);\n    }\n\n    var parseDate = d3.timeParse('%Y-%m-%d'); //   var parseTime = d3.timeParse(\"%Y-%m-%d\");\n\n    d3.json(\"https://raw.githubusercontent.com/fazal-michelangelo/reactjs-d3/master/fables.json\", function (error, rawData) {\n      if (error) {\n        console.error(error);\n        return;\n      }\n\n      var data = rawData.map(function (d) {\n        return {\n          date: parseDate(d.date),\n          pct05: d.pct05 / 1000,\n          pct25: d.pct25 / 1000,\n          pct50: d.pct50 / 1000,\n          pct75: d.pct75 / 1000,\n          pct95: d.pct95 / 1000\n        };\n      });\n      d3.json('markers.json', function (error, markerData) {\n        if (error) {\n          console.error(error);\n          return;\n        }\n\n        var markers = markerData.map(function (marker) {\n          return {\n            date: parseDate(marker.date),\n            type: marker.type,\n            version: marker.version\n          };\n        });\n        makeChart(data, markers);\n      });\n    });\n  }\n\n  const d3Container = useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dnif_line_area-chart\",\n    width: 996,\n    height: 444,\n    ref: d3Container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default BollingerBands;","map":{"version":3,"sources":["/home/fazal/Documents/claudius/D3-charts/src/LineAreaChart.js"],"names":["React","useRef","useEffect","d3","lab","moment","require","BollingerBands","props","drawChart","addAxesAndLegend","svg","xAxis","yAxis","margin","chartWidth","chartHeight","legendWidth","legendHeight","console","log","append","attr","left","top","right","bottom","axes","call","style","text","legend","drawPaths","data","x","y","upperOuterArea","area","interpolate","d","date","y0","pct95","y1","pct75","upperInnerArea","pct50","medianLine","line","lowerInnerArea","pct25","lowerOuterArea","pct05","datum","addMarker","marker","radius","xPos","yPosStart","yPosEnd","type","markerG","toLowerCase","transition","duration","version","startTransitions","rectClip","markers","length","forEach","i","setTimeout","makeChart","svgWidth","svgHeight","scaleTime","range","domain","extent","scaleLinear","max","axis","scale","orient","innerTickSize","outerTickSize","tickPadding","select","d3Container","current","parseDate","timeParse","json","error","rawData","map","markerData"],"mappings":";;AAAA;AAEA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,SAASC,GAAT,QAAoB,IAApB;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAGA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAC9BN,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,SAAS;AACZ,GAFQ,CAAT;;AAIA,WAASA,SAAT,GAAqB;AAGjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,aAASC,gBAAT,CAA2BC,GAA3B,EAAgCC,KAAhC,EAAuCC,KAAvC,EAA8CC,MAA9C,EAAsDC,UAAtD,EAAkEC,WAAlE,EAA+E;AAC3E,UAAIC,WAAW,GAAI,GAAnB;AAAA,UACIC,YAAY,GAAG,GADnB;AAGIC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAJuE,CAM3E;;AACAT,MAAAA,GAAG,CAACU,MAAJ,CAAW,UAAX,EACGC,IADH,CACQ,IADR,EACc,WADd,EAEGD,MAFH,CAEU,SAFV,EAGKC,IAHL,CAGU,QAHV,EAGqB,CAACR,MAAM,CAACS,IAAT,GAAiC,GAAjC,GAAwC,CAACT,MAAM,CAACU,GAAhD,GAAuE,GAAvE,IACCT,UAAU,GAAGE,WAAb,GAA2B,CAD5B,IACiC,GADjC,GACwC,CAACH,MAAM,CAACU,GADhD,GACuE,GADvE,IAECT,UAAU,GAAGE,WAAb,GAA2B,CAF5B,IAEiC,GAFjC,GAEuCC,YA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","sourcesContent":["/* eslint-disable no-unused-expressions */\n\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { lab } from 'd3';\nconst moment = require('moment');\n\n\nconst BollingerBands = (props) => {\n    useEffect(() => {\n        drawChart();\n    });\n\n    function drawChart() {\n\n        \n        // var testData = \n        // [\n        //     {\n        //       \"date\": \"2014-08-01\",\n        //       \"pct05\": 5350,\n        //       \"pct25\": 6756,\n        //       \"pct50\": 7819,\n        //       \"pct75\": 9284,\n        //       \"pct95\": 13835\n        //     },\n        //     {\n        //       \"date\": \"2014-08-02\",\n        //       \"pct05\": 4439,\n        //       \"pct25\": 5584,\n        //       \"pct50\": 6554,\n        //       \"pct75\": 8016,\n        //       \"pct95\": 12765\n        //     },\n        //     {\n        //       \"date\": \"2014-08-03\",\n        //       \"pct05\": 4247,\n        //       \"pct25\": 5419,\n        //       \"pct50\": 6332,\n        //       \"pct75\": 7754,\n        //       \"pct95\": 12236\n        //     },\n        //     {\n        //       \"date\": \"2014-08-04\",\n        //       \"pct05\": 3293,\n        //       \"pct25\": 4414,\n        //       \"pct50\": 5191,\n        //       \"pct75\": 6491,\n        //       \"pct95\": 10325\n        //     },\n        //     {\n        //       \"date\": \"2014-08-05\",\n        //       \"pct05\": 3942,\n        //       \"pct25\": 5134,\n        //       \"pct50\": 6069,\n        //       \"pct75\": 7501,\n        //       \"pct95\": 11685\n        //     },\n        //     {\n        //       \"date\": \"2014-08-06\",\n        //       \"pct05\": 2744,\n        //       \"pct25\": 5508,\n        //       \"pct50\": 6879,\n        //       \"pct75\": 9221,\n        //       \"pct95\": 17239\n        //     },\n        //     {\n        //       \"date\": \"2014-08-07\",\n        //       \"pct05\": 1807,\n        //       \"pct25\": 3019,\n        //       \"pct50\": 4119,\n        //       \"pct75\": 5656,\n        //       \"pct95\": 8851\n        //     },\n        //     {\n        //       \"date\": \"2014-08-08\",\n        //       \"pct05\": 1855,\n        //       \"pct25\": 3386,\n        //       \"pct50\": 4473,\n        //       \"pct75\": 5915,\n        //       \"pct95\": 10580\n        //     },\n        //     {\n        //       \"date\": \"2014-08-09\",\n        //       \"pct05\": 1830,\n        //       \"pct25\": 3202,\n        //       \"pct50\": 4233,\n        //       \"pct75\": 5559,\n        //       \"pct95\": 8930\n        //     },\n        //     {\n        //       \"date\": \"2014-08-10\",\n        //       \"pct05\": 1828,\n        //       \"pct25\": 3195,\n        //       \"pct50\": 4304,\n        //       \"pct75\": 5482,\n        //       \"pct95\": 9189\n        //     },\n        //     {\n        //       \"date\": \"2014-08-11\",\n        //       \"pct05\": 2246,\n        //       \"pct25\": 3929,\n        //       \"pct50\": 5326,\n        //       \"pct75\": 7077,\n        //       \"pct95\": 11648\n        //     },\n        //     {\n        //       \"date\": \"2014-08-12\",\n        //       \"pct05\": 2051,\n        //       \"pct25\": 3662,\n        //       \"pct50\": 4849,\n        //       \"pct75\": 6194,\n        //       \"pct95\": 10078\n        //     },\n        //     {\n        //       \"date\": \"2014-08-13\",\n        //       \"pct05\": 1700,\n        //       \"pct25\": 3075,\n        //       \"pct50\": 4068,\n        //       \"pct75\": 5259,\n        //       \"pct95\": 9789\n        //     },\n        //     {\n        //       \"date\": \"2014-08-14\",\n        //       \"pct05\": 2161,\n        //       \"pct25\": 3891,\n        //       \"pct50\": 5262,\n        //       \"pct75\": 6924,\n        //       \"pct95\": 11612\n        //     },\n        //     {\n        //       \"date\": \"2014-08-15\",\n        //       \"pct05\": 1765,\n        //       \"pct25\": 3190,\n        //       \"pct50\": 4388,\n        //       \"pct75\": 5822,\n        //       \"pct95\": 9433\n        //     },\n        //     {\n        //       \"date\": \"2014-08-16\",\n        //       \"pct05\": 2036,\n        //       \"pct25\": 3756,\n        //       \"pct50\": 4775,\n        //       \"pct75\": 6158,\n        //       \"pct95\": 9999\n        //     },\n        //     {\n        //       \"date\": \"2014-08-17\",\n        //       \"pct05\": 2079,\n        //       \"pct25\": 3561,\n        //       \"pct50\": 4753,\n        //       \"pct75\": 6124,\n        //       \"pct95\": 9807\n        //     },\n        //     {\n        //       \"date\": \"2014-08-18\",\n        //       \"pct05\": 2108,\n        //       \"pct25\": 3576,\n        //       \"pct50\": 4818,\n        //       \"pct75\": 6344,\n        //       \"pct95\": 10235\n        //     },\n        //     {\n        //       \"date\": \"2014-08-19\",\n        //       \"pct05\": 2143,\n        //       \"pct25\": 3792,\n        //       \"pct50\": 5073,\n        //       \"pct75\": 6772,\n        //       \"pct95\": 11338\n        //     },\n        //     {\n        //       \"date\": \"2014-08-20\",\n        //       \"pct05\": 2086,\n        //       \"pct25\": 3801,\n        //       \"pct50\": 5073,\n        //       \"pct75\": 6688,\n        //       \"pct95\": 12394\n        //     },\n        //     {\n        //       \"date\": \"2014-08-21\",\n        //       \"pct05\": 1767,\n        //       \"pct25\": 3253,\n        //       \"pct50\": 4282,\n        //       \"pct75\": 5563,\n        //       \"pct95\": 9167\n        //     },\n        //     {\n        //       \"date\": \"2014-08-22\",\n        //       \"pct05\": 1756,\n        //       \"pct25\": 3047,\n        //       \"pct50\": 3950,\n        //       \"pct75\": 5006,\n        //       \"pct95\": 7948\n        //     },\n        //     {\n        //       \"date\": \"2014-08-23\",\n        //       \"pct05\": 2123,\n        //       \"pct25\": 3755,\n        //       \"pct50\": 5173,\n        //       \"pct75\": 7243,\n        //       \"pct95\": 12338\n        //     },\n        //     {\n        //       \"date\": \"2014-08-24\",\n        //       \"pct05\": 1967,\n        //       \"pct25\": 3404,\n        //       \"pct50\": 4529,\n        //       \"pct75\": 5970,\n        //       \"pct95\": 9897\n        //     },\n        //     {\n        //       \"date\": \"2014-08-25\",\n        //       \"pct05\": 1537,\n        //       \"pct25\": 2612,\n        //       \"pct50\": 3394,\n        //       \"pct75\": 4279,\n        //       \"pct95\": 7104\n        //     },\n        //     {\n        //       \"date\": \"2014-08-26\",\n        //       \"pct05\": 2182,\n        //       \"pct25\": 3958,\n        //       \"pct50\": 5505,\n        //       \"pct75\": 7642,\n        //       \"pct95\": 12707\n        //     },\n        //     {\n        //       \"date\": \"2014-08-27\",\n        //       \"pct05\": 1932,\n        //       \"pct25\": 3366,\n        //       \"pct50\": 4526,\n        //       \"pct75\": 6086,\n        //       \"pct95\": 9930\n        //     },\n        //     {\n        //       \"date\": \"2014-08-28\",\n        //       \"pct05\": 1268,\n        //       \"pct25\": 2344,\n        //       \"pct50\": 3256,\n        //       \"pct75\": 4215,\n        //       \"pct95\": 6673\n        //     },\n        //     {\n        //       \"date\": \"2014-08-29\",\n        //       \"pct05\": 1225,\n        //       \"pct25\": 2239,\n        //       \"pct50\": 3033,\n        //       \"pct75\": 4111,\n        //       \"pct95\": 7601\n        //     },\n        //     {\n        //       \"date\": \"2014-08-30\",\n        //       \"pct05\": 1393,\n        //       \"pct25\": 2432,\n        //       \"pct50\": 3417,\n        //       \"pct75\": 4710,\n        //       \"pct95\": 8798\n        //     },\n        //     {\n        //       \"date\": \"2014-08-31\",\n        //       \"pct05\": 1175,\n        //       \"pct25\": 2020,\n        //       \"pct50\": 2768,\n        //       \"pct75\": 3889,\n        //       \"pct95\": 7744\n        //     },\n        //     {\n        //       \"date\": \"2014-09-01\",\n        //       \"pct05\": 989,\n        //       \"pct25\": 1655,\n        //       \"pct50\": 2218,\n        //       \"pct75\": 3167,\n        //       \"pct95\": 6018\n        //     },\n        //     {\n        //       \"date\": \"2014-09-02\",\n        //       \"pct05\": 1249,\n        //       \"pct25\": 2069,\n        //       \"pct50\": 2738,\n        //       \"pct75\": 3938,\n        //       \"pct95\": 7574\n        //     },\n        //     {\n        //       \"date\": \"2014-09-03\",\n        //       \"pct05\": 936,\n        //       \"pct25\": 1510,\n        //       \"pct50\": 1968,\n        //       \"pct75\": 2700,\n        //       \"pct95\": 5215\n        //     },\n        //     {\n        //       \"date\": \"2014-09-04\",\n        //       \"pct05\": 1264,\n        //       \"pct25\": 2039,\n        //       \"pct50\": 2657,\n        //       \"pct75\": 3646,\n        //       \"pct95\": 7042\n        //     },\n        //     {\n        //       \"date\": \"2014-09-05\",\n        //       \"pct05\": 1305,\n        //       \"pct25\": 2106,\n        //       \"pct50\": 2745,\n        //       \"pct75\": 3766,\n        //       \"pct95\": 7273\n        //     },\n        //     {\n        //       \"date\": \"2014-09-06\",\n        //       \"pct05\": 798,\n        //       \"pct25\": 1288,\n        //       \"pct50\": 1678,\n        //       \"pct75\": 2303,\n        //       \"pct95\": 4448\n        //     },\n        //     {\n        //       \"date\": \"2014-09-07\",\n        //       \"pct05\": 1314,\n        //       \"pct25\": 2120,\n        //       \"pct50\": 2763,\n        //       \"pct75\": 3791,\n        //       \"pct95\": 7321\n        //     },\n        //     {\n        //       \"date\": \"2014-09-08\",\n        //       \"pct05\": 1042,\n        //       \"pct25\": 1681,\n        //       \"pct50\": 2191,\n        //       \"pct75\": 3007,\n        //       \"pct95\": 5806\n        //     }\n        //   ];          \n\n        function addAxesAndLegend (svg, xAxis, yAxis, margin, chartWidth, chartHeight) {\n            var legendWidth  = 200,\n                legendHeight = 100;\n\n                console.log('i just want to print this chart')\n          \n            // clipping to make sure nothing appears behind legend\n            svg.append('clipPath')\n              .attr('id', 'axes-clip')\n              .append('polygon')\n                .attr('points', (-margin.left)                 + ',' + (-margin.top)                 + ' ' +\n                                (chartWidth - legendWidth - 1) + ',' + (-margin.top)                 + ' ' +\n                                (chartWidth - legendWidth - 1) + ',' + legendHeight                  + ' ' +\n                                (chartWidth + margin.right)    + ',' + legendHeight                  + ' ' +\n                                (chartWidth + margin.right)    + ',' + (chartHeight + margin.bottom) + ' ' +\n                                (-margin.left)                 + ',' + (chartHeight + margin.bottom));\n          \n            var axes = svg.append('g')\n              .attr('clip-path', 'url(#axes-clip)');\n          \n            axes.append('g')\n              .attr('class', 'x axis')\n              .attr('transform', 'translate(0,' + chartHeight + ')')\n              .call(xAxis);\n          \n            axes.append('g')\n              .attr('class', 'y axis')\n              .call(yAxis)\n              .append('text')\n                .attr('transform', 'rotate(-90)')\n                .attr('y', 6)\n                .attr('dy', '.71em')\n                .style('text-anchor', 'end')\n                .text('Time (s)');\n          \n            var legend = svg.append('g')\n              .attr('class', 'legend')\n              .attr('transform', 'translate(' + (chartWidth - legendWidth) + ', 0)');\n          \n            legend.append('rect')\n              .attr('class', 'legend-bg')\n              .attr('width',  legendWidth)\n              .attr('height', legendHeight);\n          \n            legend.append('rect')\n              .attr('class', 'outer')\n              .attr('width',  75)\n              .attr('height', 20)\n              .attr('x', 10)\n              .attr('y', 10);\n          \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 25)\n              .text('5% - 95%');\n          \n            legend.append('rect')\n              .attr('class', 'inner')\n              .attr('width',  75)\n              .attr('height', 20)\n              .attr('x', 10)\n              .attr('y', 40);\n          \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 55)\n              .text('25% - 75%');\n          \n            legend.append('path')\n              .attr('class', 'median-line')\n              .attr('d', 'M10,80L85,80');\n          \n            legend.append('text')\n              .attr('x', 115)\n              .attr('y', 85)\n              .text('Median');\n          }\n          \n          function drawPaths (svg, data, x, y) {\n            var upperOuterArea = d3.svg.area()\n              .interpolate('basis')\n              .x (function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.pct95); })\n              .y1(function (d) { return y(d.pct75); });\n          \n            var upperInnerArea = d3.svg.area()\n              .interpolate('basis')\n              .x (function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.pct75); })\n              .y1(function (d) { return y(d.pct50); });\n          \n            var medianLine = d3.svg.line()\n              .interpolate('basis')\n              .x(function (d) { return x(d.date); })\n              .y(function (d) { return y(d.pct50); });\n          \n            var lowerInnerArea = d3.svg.area()\n              .interpolate('basis')\n              .x (function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.pct50); })\n              .y1(function (d) { return y(d.pct25); });\n          \n            var lowerOuterArea = d3.svg.area()\n              .interpolate('basis')\n              .x (function (d) { return x(d.date) || 1; })\n              .y0(function (d) { return y(d.pct25); })\n              .y1(function (d) { return y(d.pct05); });\n          \n            svg.datum(data);\n          \n            svg.append('path')\n              .attr('class', 'area upper outer')\n              .attr('d', upperOuterArea)\n              .attr('clip-path', 'url(#rect-clip)');\n          \n            svg.append('path')\n              .attr('class', 'area lower outer')\n              .attr('d', lowerOuterArea)\n              .attr('clip-path', 'url(#rect-clip)');\n          \n            svg.append('path')\n              .attr('class', 'area upper inner')\n              .attr('d', upperInnerArea)\n              .attr('clip-path', 'url(#rect-clip)');\n          \n            svg.append('path')\n              .attr('class', 'area lower inner')\n              .attr('d', lowerInnerArea)\n              .attr('clip-path', 'url(#rect-clip)');\n          \n            svg.append('path')\n              .attr('class', 'median-line')\n              .attr('d', medianLine)\n              .attr('clip-path', 'url(#rect-clip)');\n          }\n          \n          function addMarker (marker, svg, chartHeight, x) {\n            var radius = 32,\n                xPos = x(marker.date) - radius - 3,\n                yPosStart = chartHeight - radius - 3,\n                yPosEnd = (marker.type === 'Client' ? 80 : 160) + radius - 3;\n          \n            var markerG = svg.append('g')\n              .attr('class', 'marker '+marker.type.toLowerCase())\n              .attr('transform', 'translate(' + xPos + ', ' + yPosStart + ')')\n              .attr('opacity', 0);\n          \n            markerG.transition()\n              .duration(1000)\n              .attr('transform', 'translate(' + xPos + ', ' + yPosEnd + ')')\n              .attr('opacity', 1);\n          \n            markerG.append('path')\n              .attr('d', 'M' + radius + ',' + (chartHeight-yPosStart) + 'L' + radius + ',' + (chartHeight-yPosStart))\n              .transition()\n                .duration(1000)\n                .attr('d', 'M' + radius + ',' + (chartHeight-yPosEnd) + 'L' + radius + ',' + (radius*2));\n          \n            markerG.append('circle')\n              .attr('class', 'marker-bg')\n              .attr('cx', radius)\n              .attr('cy', radius)\n              .attr('r', radius);\n          \n            markerG.append('text')\n              .attr('x', radius)\n              .attr('y', radius*0.9)\n              .text(marker.type);\n          \n            markerG.append('text')\n              .attr('x', radius)\n              .attr('y', radius*1.5)\n              .text(marker.version);\n          }\n          \n          function startTransitions (svg, chartWidth, chartHeight, rectClip, markers, x) {\n            rectClip.transition()\n              .duration(1000*markers.length)\n              .attr('width', chartWidth);\n          \n            markers.forEach(function (marker, i) {\n              setTimeout(function () {\n                addMarker(marker, svg, chartHeight, x);\n              }, 1000 + 500*i);\n            });\n          }\n          \n          function makeChart (data, markers) {\n            var svgWidth  = 960,\n                svgHeight = 500,\n                margin = { top: 20, right: 20, bottom: 40, left: 40 },\n                chartWidth  = svgWidth  - margin.left - margin.right,\n                chartHeight = svgHeight - margin.top  - margin.bottom;\n          \n            var x = d3.scaleTime().range([0, chartWidth])\n            // var x = d3.time.scale().range([0, chartWidth])\n                      .domain(d3.extent(data, function (d) { return d.date; })),\n                y = d3.scaleLinear().range([chartHeight, 0])\n                      .domain([0, d3.max(data, function (d) { return d.pct95; })]);\n          \n            var xAxis = d3.svg.axis().scale(x).orient('bottom')\n                          .innerTickSize(-chartHeight).outerTickSize(0).tickPadding(10),\n                yAxis = d3.svg.axis().scale(y).orient('left')\n                          .innerTickSize(-chartWidth).outerTickSize(0).tickPadding(10);\n          \n            var svg = d3.select(d3Container.current).append('svg')\n              .attr('width',  svgWidth)\n              .attr('height', svgHeight)\n              .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n          \n            // clipping to start chart hidden and slide it in later\n            var rectClip = svg.append('clipPath')\n              .attr('id', 'rect-clip')\n              .append('rect')\n                .attr('width', 0)\n                .attr('height', chartHeight);\n          \n            addAxesAndLegend(svg, xAxis, yAxis, margin, chartWidth, chartHeight);\n            drawPaths(svg, data, x, y);\n            startTransitions(svg, chartWidth, chartHeight, rectClip, markers, x);\n          }\n          \n          var parseDate  = d3.timeParse('%Y-%m-%d');\n        //   var parseTime = d3.timeParse(\"%Y-%m-%d\");\n          d3.json(\"https://raw.githubusercontent.com/fazal-michelangelo/reactjs-d3/master/fables.json\", function (error, rawData) {\n            if (error) {\n              console.error(error);\n              return;\n            }\n          \n            var data = rawData.map(function (d) {\n              return {\n                date:  parseDate(d.date),\n                pct05: d.pct05 / 1000,\n                pct25: d.pct25 / 1000,\n                pct50: d.pct50 / 1000,\n                pct75: d.pct75 / 1000,\n                pct95: d.pct95 / 1000\n              };\n            });\n\n\n\n            \n          \n            d3.json('markers.json', function (error, markerData) {\n              if (error) {\n                console.error(error);\n                return;\n              }\n          \n              var markers = markerData.map(function (marker) {\n                return {\n                  date: parseDate(marker.date),\n                  type: marker.type,\n                  version: marker.version\n                };\n              });\n          \n              makeChart(data, markers);\n            });\n          });\n    }  \n\n    const d3Container = useRef(null);\n\n    return (\n        <div\n            className=\"dnif_line_area-chart\"\n            width={996}\n            height={444}\n            ref={d3Container}\n        ></div>\n    );\n}\n\nexport default BollingerBands;"]},"metadata":{},"sourceType":"module"}