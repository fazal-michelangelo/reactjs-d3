{"ast":null,"code":"var _jsxFileName = \"/home/fazal/Documents/claudius/D3-charts/src/timelineBubble.js\";\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst moment = require('moment');\n\nconst TimelineBubble = props => {\n  useEffect(() => {\n    drawChart();\n  });\n\n  function drawChart() {\n    var data = [{\n      \"id\": 0,\n      \"name\": \"Bachelor degree in Japanese and English languages\",\n      \"category\": \"Education\",\n      \"placeName\": \"Université de Grenoble (Stendhal)\",\n      \"country\": \"France\",\n      \"startDate\": \"2010-09\",\n      \"endDate\": \"2013-07\",\n      \"description\": [\"Japanese (Kanji, Grammar, History, Language practise)\", \"English (British and American history, Grammar, Language practise)\", \"Economy, Accounting, Law, International law\", \"Introduction to computer Science (Javascript, Adobe Flash Player, Microsoft Access, CMS)\"],\n      \"skills\": [\"english\", \"japanese\", \"law\", \"economics\"]\n    }, {\n      \"id\": 1,\n      \"name\": \"Exchange Student\",\n      \"category\": \"Education\",\n      \"placeName\": \"Nagoya University of Foreign Studies\",\n      \"country\": \"Japan\",\n      \"startDate\": \"2012-09\",\n      \"endDate\": \"2013-07\",\n      \"description\": [\"Japanese language classes JLPT N3, JLPT N2\", \"Tourism & Hospitality\", \"Economy\", \"British law\", \"Sociology\"],\n      \"skills\": [\"english\", \"japanese\", \"law\", \"economics\", \"sociology\", \"tourism industry\"]\n    }, {\n      \"id\": 2,\n      \"name\": \"Master degree in Computer Science\",\n      \"category\": \"Education\",\n      \"placeName\": \"Université de Grenoble\",\n      \"country\": \"France\",\n      \"startDate\": \"2016-09\",\n      \"endDate\": \"2018-07\",\n      \"description\": [\"Algorithms\", \"Java\", \"Web Dev\", \"Systems & Networks\", \"DB (SQL)\", \"HCI\", \"AI\"],\n      \"skills\": [\"java\", \"algorithms\", \"javascript\", \"php\", \".NET\", \"SQL\"]\n    }, {\n      \"id\": 3,\n      \"name\": \"Project Manager and Front-End Engineer\",\n      \"category\": \"Work\",\n      \"placeName\": \"Studio Umi\",\n      \"country\": \"Japan\",\n      \"startDate\": \"2015-02\",\n      \"endDate\": \"2016-07\",\n      \"description\": [\"Web project planning\", \"Budget prevision\", \"Team and deadlines management\", \"HTML\", \"CSS\", \"SCSS\", \"Sass\", \"Gulp\", \"jQuery\", \"GitLab\", \"Drupal(7)\", \"Events & Talks : CMS Summer Festival Osaka, Start Up Week End Nagahama Shiga, Drupal Cafe, Code for Shiga\"],\n      \"skills\": [\"html\", \"css\", \"scss\", \"javascript\", \"jQuery\", \"php\", \"Drupal\"]\n    }, {\n      \"id\": 4,\n      \"name\": \"Data Vizualisation Internship\",\n      \"category\": \"Work\",\n      \"placeName\": \"Atos Bull\",\n      \"country\": \"France\",\n      \"startDate\": \"2018-01\",\n      \"endDate\": \"2018-07\",\n      \"description\": \"Design and development of graphical solutions for HPC data analysis (D3.js)\",\n      \"skills\": [\"html\", \"css\", \"sass\", \"javascript\", \"d3.js\", \"Symfony\"]\n    }, {\n      \"id\": 5,\n      \"name\": \"Software Engineer at Schneider Electric\",\n      \"category\": \"Work\",\n      \"placeName\": \"Thales Services\",\n      \"country\": \"France\",\n      \"startDate\": \"2018-09\",\n      \"endDate\": \"2019-01\",\n      \"description\": \"Development of an application for electrical pannels (Spring, Angular, MongoDB)\",\n      \"skills\": [\"java\", \"angular\", \"mongoDB\", \"mongoshell\"]\n    }, {\n      \"id\": 6,\n      \"name\": \"Research for version upgrade at Richemont\",\n      \"category\": \"Work\",\n      \"placeName\": \"Thales Services\",\n      \"country\": \"France\",\n      \"startDate\": \"2019-01\",\n      \"endDate\": \"2019-02\",\n      \"description\": \"Study to evaluate the impact of an application upgrade (SQL)\",\n      \"skills\": [\"SQL\"]\n    }, {\n      \"id\": 7,\n      \"name\": \"Introduction to Data Science in Python\",\n      \"category\": \"Education\",\n      \"placeName\": \"Coursera\",\n      \"country\": \"France\",\n      \"startDate\": \"2018-10\",\n      \"endDate\": \"2018-11-29\",\n      \"description\": \"Courses : What is Data Science, Open tools for Data Science, Data Science Methodology, Databases and SQL for Data Science\",\n      \"skills\": [\"Python\", \"Jupyter Notebooks\", \"SQL\"]\n    }, {\n      \"id\": 8,\n      \"name\": \"IBM Data Science Courses\",\n      \"category\": \"Education\",\n      \"placeName\": \"Coursera\",\n      \"country\": \"France\",\n      \"startDate\": \"2018-11-20\",\n      \"endDate\": \"2019-01-25\",\n      \"description\": \"Python for Data Science, Data Analysis with Python, Data Visualization with Python\",\n      \"skills\": [\"Python\", \"Jupyter Notebooks\", \"Matplotlib\", \"Numpy\", \"Seaborn\"]\n    }, {\n      \"id\": 9,\n      \"name\": \"Managing Data Analysis\",\n      \"category\": \"Education\",\n      \"placeName\": \"Coursera\",\n      \"country\": \"France\",\n      \"startDate\": \"2018-12-23\",\n      \"endDate\": \"2019-01-08\",\n      \"description\": \"Course about the process of managing data analysis and EDA\",\n      \"skills\": [\"Data Analysis\"]\n    }, {\n      \"id\": 10,\n      \"name\": \"Interactivity with JavaScript\",\n      \"category\": \"Education\",\n      \"placeName\": \"Coursera\",\n      \"country\": \"France\",\n      \"startDate\": \"2016-01-24\",\n      \"endDate\": \"2016-02-17\",\n      \"description\": \"Basics of Javascript language\",\n      \"skills\": [\"Javascript\"]\n    }];\n    const svg = d3.select(d3Container.current).append(\"svg\").attr('id', 'Chart').attr(\"width\", '100%').attr(\"height\", 500);\n    svg.append('line').attr('class', 'timeline-base').attr(\"x1\", 0).attr(\"y1\", 100).attr(\"x2\", '90%').attr(\"y2\", 100); // Get the value of the svg to for scaleLinear\n\n    function getLineVal(val) {\n      if (val === 'max') {\n        let el = document.getElementById('Chart');\n        return el.getBoundingClientRect().width;\n      } else {\n        return 0;\n      }\n    } // Convert to UNIX timestamp\n\n\n    function convertToTimeStamp(date) {\n      let parts = date.match(/(\\d{4})-(\\d{2})/);\n      return new Date(parts[1] + '-' + parts[2] + '-01').getTime();\n    }\n\n    let scaleLine = d3.scaleLinear().domain([1285891200000, Date.now()]).range([getLineVal('min') + 20, getLineVal('max') - 100]); // OFFSET = 20\n\n    let scaleCircle = d3.scaleLinear().domain([moment.duration(3, 'd').asMilliseconds(), moment.duration(10, 'y').asMilliseconds()]).range([10, 200]);\n    let allGroups = svg.selectAll('g').data(data);\n    let group = allGroups.enter().append('g').attr('id', function (data) {\n      return 'group-' + data.id;\n    });\n    group.append('circle').attr('cx', function (data) {\n      return scaleLine(convertToTimeStamp(data.startDate));\n    }).attr('cy', 100).attr('r', function (data) {\n      return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate));\n    }).attr('fill-opacity', 0.5).attr('class', function (data) {\n      return 'circle-category circle-' + data.category.toLowerCase();\n    }).attr('id', function (data) {\n      return 'circle-' + data.id;\n    }) // When hover a circle\n    .on('mouseover', function (d, i) {\n      d3.select(this).attr('r', function (data) {\n        return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate)) + 20;\n      });\n      d3.select(this).classed('circle-hovered', true);\n      d3.select(this.parentNode).selectAll('text').style('opacity', 1);\n      d3.select(this.parentNode).selectAll('.text-place').classed('hovered', true).style('opacity', 0);\n      d3.select(this.parentNode).selectAll('.text-desc').classed('hovered', true).style('opacity', 0);\n      d3.select(this.parentNode).selectAll('.text-date-end').classed('hovered', true).style('opacity', 0);\n    }) // When click a circle\n    // onclick functionality has been muted as per required data-layout\n    // .on('click', function (d, i) {\n    //     d3.select(this).attr('r', 2000);\n    //     d3.selectAll('line').style('opacity', 0);\n    //     d3.selectAll('circle').filter(function () {\n    //         return !this.classList.contains('circle-hovered');\n    //     }).style('opacity', 0);\n    //     d3.select(this).classed('circle-clicked', true);\n    //     d3.select(this.parentNode).selectAll('.text-position').style('opacity', 0);\n    //     d3.select(this.parentNode).selectAll('.text-date').style('opacity', 0);\n    //     d3.selectAll('.details').style('display', 'none');\n    //     setTimeout(function () {\n    //         svg.attr('height', 0);\n    //     }, 450)\n    //     let currId = this.getAttribute('id').split('-')[1];\n    //     let details = d3.select('#details-' + currId);\n    //     details.style('display', 'block');\n    //     details.style('opacity', 1);\n    // })\n    // When un-hover a circle\n    .on('mouseout', function (d, i) {\n      d3.select(this).attr('r', function (data) {\n        return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate));\n      });\n      d3.select(this).classed('circle-hovered', false);\n      d3.select(this.parentNode).selectAll('text').style('opacity', 0);\n    });\n    group.append('text').style('opacity', 0).text(function (data) {\n      return data.name;\n    }).attr('x', function (data) {\n      let elementWitdh = this.getBoundingClientRect().width; // Avoid overflow\n\n      if (scaleLine(convertToTimeStamp(data.startDate)) + elementWitdh >= getLineVal('max')) {\n        return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n      } else {\n        return scaleLine(convertToTimeStamp(data.startDate));\n      }\n    }).attr('y', 150).attr('class', 'text-position');\n    group.append('text').text(function (data) {\n      // Get only YYYY-MM\n      if (data.startDate.length > 7) {\n        return data.startDate.slice(0, 7);\n      } else {\n        return data.startDate;\n      }\n    }).attr('x', function (data) {\n      // Get sibling to have the len and align the date\n      let elementWitdh = this.getBoundingClientRect().width;\n      let positionWidth = this.parentNode.querySelector('text.text-position').getBoundingClientRect().width;\n\n      if (scaleLine(convertToTimeStamp(data.startDate)) + positionWidth >= getLineVal('max')) {\n        return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n      } else {\n        return scaleLine(convertToTimeStamp(data.startDate));\n      }\n    }).attr('y', 130).attr('class', 'text-date').style('opacity', 0);\n    data.map(d => {\n      let details = d3.select('#timelineChart').append('div').classed('details', true).classed('details-' + d.category.toLowerCase(), true).attr('id', 'details-' + d.id);\n      details.append('i').classed('material-icons close-icon', true).text('close');\n      details.append('div').classed('title', true).append('span').classed('date text-date date-title', true).text(d.startDate + '-' + d.endDate);\n      details.select(' .title').append('span').classed('position-title text-position', true).text(d.name);\n      details.append('div').classed('place-name text-place hovered', true).text(d.placeName);\n      details.append('div').attr('class', 'text-desc').attr('id', 'descriptionId-' + d.id).text(function () {\n        if (typeof d.description === 'string') {\n          return d.description;\n        } else {\n          return d.description.toString();\n        }\n      });\n      details.style('opacity', 0);\n    }); // Hide the details div (once opened by clicking on circle)\n    // close-icon onclick functionality has been muted as per required data-layout\n    // d3.selectAll('.close-icon').on('click', function () {\n    //     d3.select(this.parentNode).style('opacity', 0);\n    //     setTimeout(function () {\n    //         svg.attr('height', 500);\n    //         d3.select('.timeline-base').style('opacity', 1)\n    //         d3.selectAll('circle').classed('circle-clicked', false);\n    //         d3.selectAll('circle').style('opacity', 1);\n    //         d3.selectAll('.details').style('display', 'block');\n    //     }, 1000)\n    // })\n  }\n\n  const d3Container = useRef(null);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"d3-timeline-bubble\",\n    width: 996,\n    height: 444,\n    ref: d3Container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default TimelineBubble;","map":{"version":3,"sources":["/home/fazal/Documents/claudius/D3-charts/src/timelineBubble.js"],"names":["React","useRef","useEffect","d3","moment","require","TimelineBubble","props","drawChart","data","svg","select","d3Container","current","append","attr","getLineVal","val","el","document","getElementById","getBoundingClientRect","width","convertToTimeStamp","date","parts","match","Date","getTime","scaleLine","scaleLinear","domain","now","range","scaleCircle","duration","asMilliseconds","allGroups","selectAll","group","enter","id","startDate","endDate","category","toLowerCase","on","d","i","classed","parentNode","style","text","name","elementWitdh","length","slice","positionWidth","querySelector","map","details","placeName","description","toString"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nconst moment = require('moment');\n\n\nconst TimelineBubble = (props) => {\n    useEffect(() => {\n        drawChart();\n    });\n    \n    function drawChart() {\n        var data = [\n            {\n                \"id\": 0,\n                \"name\": \"Bachelor degree in Japanese and English languages\",\n                \"category\": \"Education\",\n                \"placeName\": \"Université de Grenoble (Stendhal)\",\n                \"country\": \"France\",\n                \"startDate\": \"2010-09\",\n                \"endDate\": \"2013-07\",\n                \"description\": [\"Japanese (Kanji, Grammar, History, Language practise)\",\n                    \"English (British and American history, Grammar, Language practise)\",\n                    \"Economy, Accounting, Law, International law\",\n                    \"Introduction to computer Science (Javascript, Adobe Flash Player, Microsoft Access, CMS)\"],\n                \"skills\": [\n                    \"english\",\n                    \"japanese\",\n                    \"law\",\n                    \"economics\"\n                ]\n            },\n            {\n                \"id\": 1,\n                \"name\": \"Exchange Student\",\n                \"category\": \"Education\",\n                \"placeName\": \"Nagoya University of Foreign Studies\",\n                \"country\": \"Japan\",\n                \"startDate\": \"2012-09\",\n                \"endDate\": \"2013-07\",\n                \"description\": [\"Japanese language classes JLPT N3, JLPT N2\",\n                    \"Tourism & Hospitality\",\n                    \"Economy\",\n                    \"British law\",\n                    \"Sociology\"],\n                \"skills\": [\n                    \"english\",\n                    \"japanese\",\n                    \"law\",\n                    \"economics\",\n                    \"sociology\",\n                    \"tourism industry\"\n                ]\n            },\n            {\n                \"id\": 2,\n                \"name\": \"Master degree in Computer Science\",\n                \"category\": \"Education\",\n                \"placeName\": \"Université de Grenoble\",\n                \"country\": \"France\",\n                \"startDate\": \"2016-09\",\n                \"endDate\": \"2018-07\",\n                \"description\": [\"Algorithms\",\n                    \"Java\",\n                    \"Web Dev\",\n                    \"Systems & Networks\",\n                    \"DB (SQL)\",\n                    \"HCI\",\n                    \"AI\"],\n                \"skills\": [\n                    \"java\",\n                    \"algorithms\",\n                    \"javascript\",\n                    \"php\",\n                    \".NET\",\n                    \"SQL\"\n                ]\n            },\n            {\n                \"id\": 3,\n                \"name\": \"Project Manager and Front-End Engineer\",\n                \"category\": \"Work\",\n                \"placeName\": \"Studio Umi\",\n                \"country\": \"Japan\",\n                \"startDate\": \"2015-02\",\n                \"endDate\": \"2016-07\",\n                \"description\": [\"Web project planning\",\n                    \"Budget prevision\",\n                    \"Team and deadlines management\",\n                    \"HTML\",\n                    \"CSS\",\n                    \"SCSS\",\n                    \"Sass\",\n                    \"Gulp\",\n                    \"jQuery\",\n                    \"GitLab\",\n                    \"Drupal(7)\",\n                    \"Events & Talks : CMS Summer Festival Osaka, Start Up Week End Nagahama Shiga, Drupal Cafe, Code for Shiga\"],\n                \"skills\": [\n                    \"html\",\n                    \"css\",\n                    \"scss\",\n                    \"javascript\",\n                    \"jQuery\",\n                    \"php\",\n                    \"Drupal\"\n                ]\n            },\n            {\n                \"id\": 4,\n                \"name\": \"Data Vizualisation Internship\",\n                \"category\": \"Work\",\n                \"placeName\": \"Atos Bull\",\n                \"country\": \"France\",\n                \"startDate\": \"2018-01\",\n                \"endDate\": \"2018-07\",\n                \"description\": \"Design and development of graphical solutions for HPC data analysis (D3.js)\",\n                \"skills\": [\n                    \"html\",\n                    \"css\",\n                    \"sass\",\n                    \"javascript\",\n                    \"d3.js\",\n                    \"Symfony\"\n                ]\n            },\n            {\n                \"id\": 5,\n                \"name\": \"Software Engineer at Schneider Electric\",\n                \"category\": \"Work\",\n                \"placeName\": \"Thales Services\",\n                \"country\": \"France\",\n                \"startDate\": \"2018-09\",\n                \"endDate\": \"2019-01\",\n                \"description\": \"Development of an application for electrical pannels (Spring, Angular, MongoDB)\",\n                \"skills\": [\n                    \"java\",\n                    \"angular\",\n                    \"mongoDB\",\n                    \"mongoshell\"\n                ]\n            },\n            {\n                \"id\": 6,\n                \"name\": \"Research for version upgrade at Richemont\",\n                \"category\": \"Work\",\n                \"placeName\": \"Thales Services\",\n                \"country\": \"France\",\n                \"startDate\": \"2019-01\",\n                \"endDate\": \"2019-02\",\n                \"description\": \"Study to evaluate the impact of an application upgrade (SQL)\",\n                \"skills\": [\n                    \"SQL\"\n                ]\n            },\n            {\n                \"id\": 7,\n                \"name\": \"Introduction to Data Science in Python\",\n                \"category\": \"Education\",\n                \"placeName\": \"Coursera\",\n                \"country\": \"France\",\n                \"startDate\": \"2018-10\",\n                \"endDate\": \"2018-11-29\",\n                \"description\": \"Courses : What is Data Science, Open tools for Data Science, Data Science Methodology, Databases and SQL for Data Science\",\n                \"skills\": [\n                    \"Python\",\n                    \"Jupyter Notebooks\",\n                    \"SQL\"\n                ]\n            },\n            {\n                \"id\": 8,\n                \"name\": \"IBM Data Science Courses\",\n                \"category\": \"Education\",\n                \"placeName\": \"Coursera\",\n                \"country\": \"France\",\n                \"startDate\": \"2018-11-20\",\n                \"endDate\": \"2019-01-25\",\n                \"description\": \"Python for Data Science, Data Analysis with Python, Data Visualization with Python\",\n                \"skills\": [\n                    \"Python\",\n                    \"Jupyter Notebooks\",\n                    \"Matplotlib\",\n                    \"Numpy\",\n                    \"Seaborn\"\n                ]\n            },\n            {\n                \"id\": 9,\n                \"name\": \"Managing Data Analysis\",\n                \"category\": \"Education\",\n                \"placeName\": \"Coursera\",\n                \"country\": \"France\",\n                \"startDate\": \"2018-12-23\",\n                \"endDate\": \"2019-01-08\",\n                \"description\": \"Course about the process of managing data analysis and EDA\",\n                \"skills\": [\n                    \"Data Analysis\"\n                ]\n            },\n            {\n                \"id\": 10,\n                \"name\": \"Interactivity with JavaScript\",\n                \"category\": \"Education\",\n                \"placeName\": \"Coursera\",\n                \"country\": \"France\",\n                \"startDate\": \"2016-01-24\",\n                \"endDate\": \"2016-02-17\",\n                \"description\": \"Basics of Javascript language\",\n                \"skills\": [\n                    \"Javascript\"\n                ]\n            }\n        ];\n\n        const svg = d3.select(d3Container.current).append(\"svg\").attr('id', 'Chart').attr(\"width\", '100%').attr(\"height\", 500);\n        svg.append('line').attr('class', 'timeline-base')\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 100)\n            .attr(\"x2\", '90%')\n            .attr(\"y2\", 100);\n        // Get the value of the svg to for scaleLinear\n        function getLineVal(val) {\n            if (val === 'max') {\n                let el = document.getElementById('Chart');\n                return el.getBoundingClientRect().width;\n            }\n            else {\n                return 0;\n            }\n        }\n        // Convert to UNIX timestamp\n        function convertToTimeStamp(date) {\n            let parts = date.match(/(\\d{4})-(\\d{2})/);\n            return new Date(parts[1] + '-' + parts[2] + '-01').getTime();\n        }\n\n        let scaleLine = d3.scaleLinear()\n            .domain([1285891200000, Date.now()])\n            .range([getLineVal('min') + 20, getLineVal('max') - 100]); // OFFSET = 20\n\n        let scaleCircle = d3.scaleLinear()\n            .domain([moment.duration(3, 'd').asMilliseconds(), moment.duration(10, 'y').asMilliseconds()])\n            .range([10, 200]);\n\n        let allGroups = svg.selectAll('g').data(data);\n        let group = allGroups.enter().append('g').attr('id', function (data) { return 'group-' + data.id });\n\n        group.append('circle')\n            .attr('cx', function (data) { return scaleLine(convertToTimeStamp(data.startDate)); })\n            .attr('cy', 100)\n            .attr('r', function (data) { return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate)); })\n            .attr('fill-opacity', 0.5)\n            .attr('class', function (data) { return ('circle-category circle-' + data.category.toLowerCase()) })\n            .attr('id', function (data) {\n                return 'circle-' + data.id\n            })\n            // When hover a circle\n            .on('mouseover', function (d, i) {\n                d3.select(this).attr('r', function (data) { return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate)) + 20; });\n                d3.select(this).classed('circle-hovered', true);\n                d3.select(this.parentNode).selectAll('text').style('opacity', 1);\n                d3.select(this.parentNode).selectAll('.text-place').classed('hovered', true).style('opacity', 0);\n                d3.select(this.parentNode).selectAll('.text-desc').classed('hovered', true).style('opacity', 0);\n                d3.select(this.parentNode).selectAll('.text-date-end').classed('hovered', true).style('opacity', 0);\n            })\n            // When click a circle\n\n            // onclick functionality has been muted as per required data-layout\n            // .on('click', function (d, i) {\n            //     d3.select(this).attr('r', 2000);\n            //     d3.selectAll('line').style('opacity', 0);\n            //     d3.selectAll('circle').filter(function () {\n            //         return !this.classList.contains('circle-hovered');\n            //     }).style('opacity', 0);\n            //     d3.select(this).classed('circle-clicked', true);\n            //     d3.select(this.parentNode).selectAll('.text-position').style('opacity', 0);\n            //     d3.select(this.parentNode).selectAll('.text-date').style('opacity', 0);\n            //     d3.selectAll('.details').style('display', 'none');\n            //     setTimeout(function () {\n            //         svg.attr('height', 0);\n            //     }, 450)\n            //     let currId = this.getAttribute('id').split('-')[1];\n            //     let details = d3.select('#details-' + currId);\n            //     details.style('display', 'block');\n            //     details.style('opacity', 1);\n            // })\n            // When un-hover a circle\n            .on('mouseout', function (d, i) {\n                d3.select(this).attr('r', function (data) { return scaleCircle(convertToTimeStamp(data.endDate) - convertToTimeStamp(data.startDate)); });\n                d3.select(this).classed('circle-hovered', false);\n                d3.select(this.parentNode).selectAll('text').style('opacity', 0);\n            });\n\n        group.append('text')\n            .style('opacity', 0)\n            .text(function (data) { return (data.name); })\n            .attr('x', function (data) {\n                let elementWitdh = this.getBoundingClientRect().width;\n                // Avoid overflow\n                if (scaleLine(convertToTimeStamp(data.startDate)) + elementWitdh >= getLineVal('max')) {\n                    return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n                }\n                else {\n                    return scaleLine(convertToTimeStamp(data.startDate));\n                }\n            })\n            .attr('y', 150)\n            .attr('class', 'text-position');\n\n        group.append('text')\n            .text(function (data) {\n                // Get only YYYY-MM\n                if (data.startDate.length > 7) {\n                    return (data.startDate.slice(0, 7))\n                }\n                else {\n                    return (data.startDate)\n                }\n            })\n            .attr('x', function (data) {\n                // Get sibling to have the len and align the date\n                let elementWitdh = this.getBoundingClientRect().width;\n                let positionWidth = this.parentNode.querySelector('text.text-position').getBoundingClientRect().width;\n                if (scaleLine(convertToTimeStamp(data.startDate)) + positionWidth >= getLineVal('max')) {\n                    return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n                }\n                else {\n                    return scaleLine(convertToTimeStamp(data.startDate));\n                }\n            })\n            .attr('y', 130)\n            .attr('class', 'text-date')\n            .style('opacity', 0);\n\n        data.map(d => {\n            let details = d3.select('#timelineChart').append('div').classed('details', true).classed('details-' + d.category.toLowerCase(), true).attr('id', 'details-' + d.id);\n            details.append('i').classed('material-icons close-icon', true).text('close');\n            details.append('div').classed('title', true).append('span').classed('date text-date date-title', true).text(d.startDate + '-' + d.endDate);\n            details.select(' .title').append('span').classed('position-title text-position', true).text(d.name);\n            details.append('div').classed('place-name text-place hovered', true).text(d.placeName);\n            details.append('div')\n                .attr('class', 'text-desc')\n                .attr('id', 'descriptionId-' + d.id)\n                .text(function () {\n                    if (typeof (d.description) === 'string') {\n                        return d.description;\n                    }\n                    else {\n                        return d.description.toString()\n                    }\n                });\n            details.style('opacity', 0);\n        });\n\n        // Hide the details div (once opened by clicking on circle)\n\n        // close-icon onclick functionality has been muted as per required data-layout\n        // d3.selectAll('.close-icon').on('click', function () {\n        //     d3.select(this.parentNode).style('opacity', 0);\n        //     setTimeout(function () {\n        //         svg.attr('height', 500);\n        //         d3.select('.timeline-base').style('opacity', 1)\n        //         d3.selectAll('circle').classed('circle-clicked', false);\n        //         d3.selectAll('circle').style('opacity', 1);\n        //         d3.selectAll('.details').style('display', 'block');\n        //     }, 1000)\n        // })\n    }\n\n    const d3Container = useRef(null);\n\n    return (\n        <svg\n            className=\"d3-timeline-bubble\"\n            width={996}\n            height={444}\n            ref={d3Container}\n        />\n    );\n}\n\nexport default TimelineBubble;"]},"metadata":{},"sourceType":"module"}