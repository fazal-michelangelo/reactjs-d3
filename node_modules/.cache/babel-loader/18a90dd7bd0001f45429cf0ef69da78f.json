{"ast":null,"code":"var _jsxFileName = \"/home/fazal/Documents/claudius/D3-charts/src/LollipopChart.js\";\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst moment = require('moment');\n\nconst LollipopChart = props => {\n  useEffect(() => {\n    drawChart();\n  });\n\n  function drawChart() {\n    var margin = {\n      top: 30,\n      right: 30,\n      bottom: 70,\n      left: 60\n    },\n        width = 460 - margin.left - margin.right,\n        height = 400 - margin.top - margin.bottom;\n    var data = [{\n      \"group\": \"09-2010\",\n      \"var1\": 12,\n      \"var2\": 3\n    }, {\n      \"group\": \"01-2010\",\n      \"var1\": 23,\n      \"var2\": 2\n    }, {\n      \"group\": \"02-2013\",\n      \"var1\": 4,\n      \"var2\": 1\n    }, {\n      \"group\": \"04-2020\",\n      \"var1\": 8,\n      \"var2\": 23\n    }, {\n      \"group\": \"05-2012\",\n      \"var1\": 9,\n      \"var2\": 34\n    }, {\n      \"group\": \"01-2009\",\n      \"var1\": 10,\n      \"var2\": 11\n    }, {\n      \"group\": \"02-2010\",\n      \"var1\": 2,\n      \"var2\": 23\n    }, {\n      \"group\": \"08-2018\",\n      \"var1\": 3,\n      \"var2\": 10\n    }, {\n      \"group\": \"03-2019\",\n      \"var1\": 12,\n      \"var2\": 8\n    }, {\n      \"group\": \"04-2017\",\n      \"var1\": 22,\n      \"var2\": 9\n    }];\n    const svg = d3.select(d3Container.current).append(\"svg\").attr('id', 'Chart').attr(\"width\", '100%').attr(\"height\", 500);\n    svg.append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    var x = d3.scaleBand().range([0, width]).padding(1);\n    var xAxis = svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\");\n    var xAxisVar = d3.scaleBand().domain(['a', 'b', 'c', 'd']).range([0, width]);\n    x.domain(data.map(function (d) {\n      return d.group;\n    }));\n    svg.append(\"g\").attr('id', 'xAxisID').attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xAxisVar).ticks(5)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\");\n    var y = d3.scaleLinear().range([height, 0]);\n    var yAxis = svg.append(\"g\").style('display', 'none'); // .attr(\"class\", \"myYaxis\")\n\n    y.domain([0, d3.max(data, function (d) {\n      return +d['var1'];\n    })]);\n    yAxis.transition().duration(1000).call(d3.axisLeft(y));\n    var u = svg.selectAll(\"circle\").data(data);\n    u.enter().append(\"circle\").attr('fill-opacity', 0.5).attr('class', function (data) {\n      return 'circle-category circle-' + data.var1;\n    }).attr('id', function (data) {\n      return 'circle-' + data.id;\n    }).on('mouseover', function (d, i) {\n      d3.select(this).attr(\"r\", function (d) {\n        return Math.round(Math.pow(d['var1'], 1) * Math.PI / 2) + 20;\n      });\n      d3.select(this).classed('circle-hovered', true);\n      d3.select(this.parentNode).selectAll('text').style('opacity', 1);\n      d3.select(this.parentNode).selectAll('.text-place').classed('hovered', true).style('opacity', 0);\n      d3.select(this.parentNode).selectAll('.text-desc').classed('hovered', true).style('opacity', 0);\n      d3.select(this.parentNode).selectAll('.text-date-end').classed('hovered', true).style('opacity', 0);\n    }).on('mouseout', function (d, i) {\n      d3.select(this).attr(\"r\", function (d) {\n        return Math.round(Math.pow(d['var1'], 1) * Math.PI / 2);\n      });\n    }).merge(u).transition().duration(1000).attr(\"cx\", function (d) {\n      return x(d.group);\n    }).attr(\"cy\", function (d) {\n      return y(d['var1']);\n    }) // .attr(\"r\", 8)\n    // .attr(\"r\", function(d) { return (Math.sqrt(d[selectedVar] *64/Math.PI)) })        \n    .attr(\"r\", function (d) {\n      return Math.round(Math.pow(d['var1'], 1) * Math.PI / 2);\n    }).attr(\"fill\", \"#69b3a2\");\n    u.append('text').text(function (data) {\n      // Get only YYYY-MM\n      if (data.startDate.length > 7) {\n        // return (data.startDate.slice(0, 7))\n        return data.var1;\n      } else {\n        return data.var1;\n      }\n    }).attr('x', function (data) {\n      // Get sibling to have the len and align the date\n      let elementWitdh = this.getBoundingClientRect().width;\n      let positionWidth = this.parentNode.querySelector('text.text-position').getBoundingClientRect().width; // if (scaleLine(convertToTimeStamp(data.startDate)) + positionWidth >= getLineVal('max')) {\n      //     return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n      // }\n      // else {\n      //     return scaleLine(convertToTimeStamp(data.startDate));\n      // }\n    }).attr('y', 130).attr('class', 'text-date').style('opacity', 1);\n  }\n\n  const d3Container = useRef(null);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"d3-lollipop-chart\",\n    width: 996,\n    height: 444,\n    ref: d3Container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default LollipopChart;","map":{"version":3,"sources":["/home/fazal/Documents/claudius/D3-charts/src/LollipopChart.js"],"names":["React","useRef","useEffect","d3","moment","require","LollipopChart","props","drawChart","margin","top","right","bottom","left","width","height","data","svg","select","d3Container","current","append","attr","x","scaleBand","range","padding","xAxis","xAxisVar","domain","map","d","group","call","axisBottom","ticks","selectAll","style","y","scaleLinear","yAxis","max","transition","duration","axisLeft","u","enter","var1","id","on","i","Math","round","pow","PI","classed","parentNode","merge","text","startDate","length","elementWitdh","getBoundingClientRect","positionWidth","querySelector"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nconst moment = require('moment');\n\n\nconst LollipopChart = (props) => {\n    useEffect(() => {\n        drawChart();\n    });\n\n    function drawChart() {\n\n        var margin = { top: 30, right: 30, bottom: 70, left: 60 },\n            width = 460 - margin.left - margin.right,\n            height = 400 - margin.top - margin.bottom;\n\n\n\n        var data = [\n            {\n                \"group\": \"09-2010\",\n                \"var1\": 12,\n                \"var2\": 3\n            },\n            {\n                \"group\": \"01-2010\",\n                \"var1\": 23,\n                \"var2\": 2\n            },\n            {\n                \"group\": \"02-2013\",\n                \"var1\": 4,\n                \"var2\": 1\n            },\n            {\n                \"group\": \"04-2020\",\n                \"var1\": 8,\n                \"var2\": 23\n            },\n            {\n                \"group\": \"05-2012\",\n                \"var1\": 9,\n                \"var2\": 34\n            },\n            {\n                \"group\": \"01-2009\",\n                \"var1\": 10,\n                \"var2\": 11\n            },\n            {\n                \"group\": \"02-2010\",\n                \"var1\": 2,\n                \"var2\": 23\n            },\n            {\n                \"group\": \"08-2018\",\n                \"var1\": 3,\n                \"var2\": 10\n            },\n            {\n                \"group\": \"03-2019\",\n                \"var1\": 12,\n                \"var2\": 8\n            },\n            {\n                \"group\": \"04-2017\",\n                \"var1\": 22,\n                \"var2\": 9\n            }\n        ];\n\n\n        const svg = d3.select(d3Container.current).append(\"svg\").attr('id', 'Chart').attr(\"width\", '100%').attr(\"height\", 500);\n\n        svg.append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        var x = d3.scaleBand()\n            .range([0, width])\n            .padding(1);\n        var xAxis = svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n\n        var xAxisVar = d3.scaleBand()\n            .domain(['a', 'b', 'c', 'd'])\n            .range([0, width]);\n\n\n        x.domain(data.map(function (d) { return d.group; }))\n\n        svg.append(\"g\")\n            .attr('id', 'xAxisID')\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xAxisVar).ticks(5))\n            .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n            .style(\"text-anchor\", \"end\");\n\n\n\n\n        var y = d3.scaleLinear()\n            .range([height, 0]);\n        var yAxis = svg.append(\"g\")\n            .style('display', 'none')\n            // .attr(\"class\", \"myYaxis\")\n\n\n\n\n        y.domain([0, d3.max(data, function (d) { return +d['var1'] })]);\n        yAxis.transition().duration(1000).call(d3.axisLeft(y));\n\n\n        var u = svg.selectAll(\"circle\")\n            .data(data)\n\n\n\n        u\n            .enter()\n            .append(\"circle\")\n            .attr('fill-opacity', 0.5)\n            .attr('class', function (data) { return ('circle-category circle-' + data.var1) })\n            .attr('id', function (data) {\n                return 'circle-' + data.id\n            })\n\n\n            .on('mouseover', function(d, i) {\n                d3.select(this).attr(\"r\", function(d) { return Math.round((Math.pow(d['var1'],1))*Math.PI/2) + 20 })\n                d3.select(this).classed('circle-hovered', true);\n                d3.select(this.parentNode).selectAll('text').style('opacity', 1);\n                d3.select(this.parentNode).selectAll('.text-place').classed('hovered', true).style('opacity', 0);\n                d3.select(this.parentNode).selectAll('.text-desc').classed('hovered', true).style('opacity', 0);\n                d3.select(this.parentNode).selectAll('.text-date-end').classed('hovered', true).style('opacity', 0);\n            })\n            \n            .on('mouseout', function(d, i) {\n                d3.select(this).attr(\"r\", function(d) { return Math.round((Math.pow(d['var1'],1))*Math.PI/2) })\n            })\n\n            .merge(u)\n            .transition()\n            .duration(1000)\n            .attr(\"cx\", function (d) { return x(d.group); })\n            .attr(\"cy\", function (d) { return y(d['var1']); })\n            // .attr(\"r\", 8)\n            // .attr(\"r\", function(d) { return (Math.sqrt(d[selectedVar] *64/Math.PI)) })        \n            .attr(\"r\", function(d) { return Math.round((Math.pow(d['var1'],1))*Math.PI/2) })\n\n            .attr(\"fill\", \"#69b3a2\")\n            \n\n            u.append('text')\n            .text(function (data) {\n                // Get only YYYY-MM\n                if (data.startDate.length > 7) {\n                    // return (data.startDate.slice(0, 7))\n                    return data.var1\n                }\n                else {\n                    return (data.var1)\n                }\n            })\n            .attr('x', function (data) {\n                // Get sibling to have the len and align the date\n                let elementWitdh = this.getBoundingClientRect().width;\n                let positionWidth = this.parentNode.querySelector('text.text-position').getBoundingClientRect().width;\n                // if (scaleLine(convertToTimeStamp(data.startDate)) + positionWidth >= getLineVal('max')) {\n                //     return scaleLine(convertToTimeStamp(data.startDate)) - elementWitdh;\n                // }\n                // else {\n                //     return scaleLine(convertToTimeStamp(data.startDate));\n                // }\n            })\n            .attr('y', 130)\n            .attr('class', 'text-date')\n            .style('opacity', 1);\n\n\n\n\n    }\n\n    const d3Container = useRef(null);\n\n    return (\n        <svg\n            className=\"d3-lollipop-chart\"\n            width={996}\n            height={444}\n            ref={d3Container}\n        />\n    );\n}\n\nexport default LollipopChart;"]},"metadata":{},"sourceType":"module"}